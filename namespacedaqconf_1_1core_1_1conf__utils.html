<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DUNE-DAQ: daqconf.core.conf_utils Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DUNE-DAQ
   </div>
   <div id="projectbrief">DUNE Trigger and Data Acquisition software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedaqconf.html">daqconf</a></li><li class="navelem"><a class="el" href="namespacedaqconf_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespacedaqconf_1_1core_1_1conf__utils.html">conf_utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">daqconf.core.conf_utils Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaqconf_1_1core_1_1conf__utils_1_1Direction.html">Direction</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Classes.  <a href="classdaqconf_1_1core_1_1conf__utils_1_1Direction.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaqconf_1_1core_1_1conf__utils_1_1Endpoint.html">Endpoint</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdaqconf_1_1core_1_1conf__utils_1_1Queue.html">Queue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7fd7bb65298d3340d2bc4a7ddd389c5f" id="r_a7fd7bb65298d3340d2bc4a7ddd389c5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fd7bb65298d3340d2bc4a7ddd389c5f">replace_localhost_ip</a> (uri)</td></tr>
<tr class="memdesc:a7fd7bb65298d3340d2bc4a7ddd389c5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Functions.  <br /></td></tr>
<tr class="separator:a7fd7bb65298d3340d2bc4a7ddd389c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64224c11a79572b77a3b7fb3fbd14870" id="r_a64224c11a79572b77a3b7fb3fbd14870"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64224c11a79572b77a3b7fb3fbd14870">make_module_deps</a> (app, system_connections, verbose=False)</td></tr>
<tr class="separator:a64224c11a79572b77a3b7fb3fbd14870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcaa57ce8fd00ec1558558200ab66829" id="r_adcaa57ce8fd00ec1558558200ab66829"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adcaa57ce8fd00ec1558558200ab66829">make_app_deps</a> (the_system, forced_deps=[], verbose=False)</td></tr>
<tr class="separator:adcaa57ce8fd00ec1558558200ab66829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7282b6200ba0aaf6a67002daa14a5d46" id="r_a7282b6200ba0aaf6a67002daa14a5d46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7282b6200ba0aaf6a67002daa14a5d46">add_one_command_data</a> (command_data, command, default_params, app)</td></tr>
<tr class="separator:a7282b6200ba0aaf6a67002daa14a5d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142810aed7242806daa597052a271055" id="r_a142810aed7242806daa597052a271055"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a142810aed7242806daa597052a271055">make_queue_connection</a> (the_system, app, endpoint_name, data_type, in_apps, out_apps, size, verbose)</td></tr>
<tr class="separator:a142810aed7242806daa597052a271055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9262a38ed6d95f04118f31f911558b2a" id="r_a9262a38ed6d95f04118f31f911558b2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9262a38ed6d95f04118f31f911558b2a">make_network_connection</a> (the_system, endpoint_name, data_type, in_apps, out_apps, verbose, use_k8s=False, use_connectivity_service=True)</td></tr>
<tr class="separator:a9262a38ed6d95f04118f31f911558b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad82272e4714cacf184338ac0977f7458" id="r_ad82272e4714cacf184338ac0977f7458"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad82272e4714cacf184338ac0977f7458">make_system_connections</a> (the_system, verbose=False, use_k8s=False, use_connectivity_service=True)</td></tr>
<tr class="separator:ad82272e4714cacf184338ac0977f7458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa138d1cd5fd555cbf7662f367717d437" id="r_aa138d1cd5fd555cbf7662f367717d437"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa138d1cd5fd555cbf7662f367717d437">make_app_command_data</a> (system, app, appkey, verbose=False, use_k8s=False, use_connectivity_service=True, connectivity_service_interval=1000)</td></tr>
<tr class="separator:aa138d1cd5fd555cbf7662f367717d437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af08ddd9982edaf3fdaf82243e8455cc4" id="r_af08ddd9982edaf3fdaf82243e8455cc4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af08ddd9982edaf3fdaf82243e8455cc4">data_request_endpoint_name</a> (producer)</td></tr>
<tr class="separator:af08ddd9982edaf3fdaf82243e8455cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a196fd28392aecf9ef281f2d715fa9245" id="r_a196fd28392aecf9ef281f2d715fa9245"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a196fd28392aecf9ef281f2d715fa9245">resolve_endpoint</a> (app, external_name, inout, verbose=False)</td></tr>
<tr class="separator:a196fd28392aecf9ef281f2d715fa9245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa0c05f5d621c1013a0322a6fe2b34b" id="r_acfa0c05f5d621c1013a0322a6fe2b34b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfa0c05f5d621c1013a0322a6fe2b34b">make_unique_name</a> (base, module_list)</td></tr>
<tr class="separator:acfa0c05f5d621c1013a0322a6fe2b34b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af31d84e6fb4c411024a231df164d5fcc" id="r_af31d84e6fb4c411024a231df164d5fcc"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af31d84e6fb4c411024a231df164d5fcc">data_network_translation</a> (dict hosts, Callable[[str], str] control_to_data_network=None)</td></tr>
<tr class="separator:af31d84e6fb4c411024a231df164d5fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bec6d86959eda6a106fb410a129ee48" id="r_a8bec6d86959eda6a106fb410a129ee48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8bec6d86959eda6a106fb410a129ee48">update_with_ssh_boot_data</a> (dict boot_data, list apps, int base_command_port=3333, verbose=False, control_to_data_network=None, use_drunc=False, controller_host='localhost')</td></tr>
<tr class="separator:a8bec6d86959eda6a106fb410a129ee48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a104907cc5bb5620addd6c38228f30cf3" id="r_a104907cc5bb5620addd6c38228f30cf3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a104907cc5bb5620addd6c38228f30cf3">add_k8s_app_boot_data</a> (dict boot_data, list apps, str image, list boot_order, int base_command_port=3333, verbose=False, control_to_data_network=None)</td></tr>
<tr class="separator:a104907cc5bb5620addd6c38228f30cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3651bafb096f49a735528b7ee8785915" id="r_a3651bafb096f49a735528b7ee8785915"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3651bafb096f49a735528b7ee8785915">resolve_localhost</a> (host)</td></tr>
<tr class="separator:a3651bafb096f49a735528b7ee8785915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e91f7992f93cc9f4642d6854dbf127" id="r_a18e91f7992f93cc9f4642d6854dbf127"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a18e91f7992f93cc9f4642d6854dbf127">generate_boot</a> (boot_conf, system, verbose=False, control_to_data_network=None)</td></tr>
<tr class="separator:a18e91f7992f93cc9f4642d6854dbf127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9c8b6448ccc83fa9d30980ae2b3ca22" id="r_ae9c8b6448ccc83fa9d30980ae2b3ca22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9c8b6448ccc83fa9d30980ae2b3ca22">set_strict_anti_affinity</a> (apps, dont_run_with_me)</td></tr>
<tr class="separator:ae9c8b6448ccc83fa9d30980ae2b3ca22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57ca1440163bfe302ff916c9f279a748" id="r_a57ca1440163bfe302ff916c9f279a748"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57ca1440163bfe302ff916c9f279a748">set_strict_affinity</a> (apps, run_with_me)</td></tr>
<tr class="separator:a57ca1440163bfe302ff916c9f279a748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a00e395feabf586857357cb12d345f" id="r_a50a00e395feabf586857357cb12d345f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50a00e395feabf586857357cb12d345f">set_loose_anti_affinity</a> (apps, dont_run_with_me_if_u_can)</td></tr>
<tr class="separator:a50a00e395feabf586857357cb12d345f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7c9ac47265a3bef9820232f176d86f" id="r_ada7c9ac47265a3bef9820232f176d86f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada7c9ac47265a3bef9820232f176d86f">set_loose_affinity</a> (apps, run_with_me_if_u_can)</td></tr>
<tr class="separator:ada7c9ac47265a3bef9820232f176d86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac88c0467b2ddd3428edac2ca37b547b3" id="r_ac88c0467b2ddd3428edac2ca37b547b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac88c0467b2ddd3428edac2ca37b547b3">make_app_json</a> (app_name, app_command_data, data_dir, verbose=False)</td></tr>
<tr class="separator:ac88c0467b2ddd3428edac2ca37b547b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac3d0024ab29da2b2ea0e17b636f8dca" id="r_aac3d0024ab29da2b2ea0e17b636f8dca"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac3d0024ab29da2b2ea0e17b636f8dca">make_system_command_datas</a> (dict boot_conf, the_system, forced_deps=[], bool verbose=False, Callable[[str], str] control_to_data_network=None)</td></tr>
<tr class="separator:aac3d0024ab29da2b2ea0e17b636f8dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d012725aafbfa6d58d794bd2aa0ff69" id="r_a8d012725aafbfa6d58d794bd2aa0ff69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d012725aafbfa6d58d794bd2aa0ff69">write_json_files</a> (app_command_datas, system_command_datas, json_dir, verbose=False)</td></tr>
<tr class="separator:a8d012725aafbfa6d58d794bd2aa0ff69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a183f39bd1cbe0a3ce29468f3f9668cbc" id="r_a183f39bd1cbe0a3ce29468f3f9668cbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a183f39bd1cbe0a3ce29468f3f9668cbc">get_version</a> ()</td></tr>
<tr class="separator:a183f39bd1cbe0a3ce29468f3f9668cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47d4ba8aef2cc9971e8b6b374e69b45b" id="r_a47d4ba8aef2cc9971e8b6b374e69b45b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47d4ba8aef2cc9971e8b6b374e69b45b">get_releases_dir</a> ()</td></tr>
<tr class="separator:a47d4ba8aef2cc9971e8b6b374e69b45b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4e9ca24267ddb4d7a1c8a94e5514ae" id="r_abd4e9ca24267ddb4d7a1c8a94e5514ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd4e9ca24267ddb4d7a1c8a94e5514ae">release_or_dev</a> ()</td></tr>
<tr class="separator:abd4e9ca24267ddb4d7a1c8a94e5514ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1511af65778ad2c8e329cd1afc0bbd5" id="r_ad1511af65778ad2c8e329cd1afc0bbd5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad1511af65778ad2c8e329cd1afc0bbd5">get_rte_script</a> ()</td></tr>
<tr class="separator:ad1511af65778ad2c8e329cd1afc0bbd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7cfdd5270dba1390974a6c8ba0f49744" id="r_a7cfdd5270dba1390974a6c8ba0f49744"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cfdd5270dba1390974a6c8ba0f49744">default_load_path</a></td></tr>
<tr class="separator:a7cfdd5270dba1390974a6c8ba0f49744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafde5b4e3f495bf6a1dbd2d5b7bd21e0" id="r_aafde5b4e3f495bf6a1dbd2d5b7bd21e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aafde5b4e3f495bf6a1dbd2d5b7bd21e0">FragmentProducer</a> = namedtuple('FragmentProducer', ['source_id', 'requests_in', 'fragments_out', 'queue_name', 'is_mlt_producer'])</td></tr>
<tr class="separator:aafde5b4e3f495bf6a1dbd2d5b7bd21e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a001da6e3e71130647c110cd4fa056cd1" id="r_a001da6e3e71130647c110cd4fa056cd1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a001da6e3e71130647c110cd4fa056cd1">Publisher</a></td></tr>
<tr class="separator:a001da6e3e71130647c110cd4fa056cd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e4995159d3c6078524aca8ea779d47" id="r_a59e4995159d3c6078524aca8ea779d47"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59e4995159d3c6078524aca8ea779d47">Sender</a> = namedtuple(&quot;Sender&quot;, ['msg_type', 'msg_module_name', 'receiver'])</td></tr>
<tr class="separator:a59e4995159d3c6078524aca8ea779d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46963ac69138a747d0fefb945c779fdb" id="r_a46963ac69138a747d0fefb945c779fdb"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46963ac69138a747d0fefb945c779fdb">cmd_set</a> = [&quot;init&quot;, &quot;conf&quot;]</td></tr>
<tr class="separator:a46963ac69138a747d0fefb945c779fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a104907cc5bb5620addd6c38228f30cf3" name="a104907cc5bb5620addd6c38228f30cf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a104907cc5bb5620addd6c38228f30cf3">&#9670;&#160;</a></span>add_k8s_app_boot_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.add_k8s_app_boot_data </td>
          <td>(</td>
          <td class="paramtype">dict</td>          <td class="paramname"><span class="paramname"><em>boot_data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>apps</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>image</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>boot_order</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>base_command_port</em><span class="paramdefsep"> = </span><span class="paramdefval">3333</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>control_to_data_network</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generate the dictionary that will become the boot.json file
</pre> 
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00520">520</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  527</span>        control_to_data_network = <span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno">  528</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral">    Generate the dictionary that will become the boot.json file</span></div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  531</span>    <span class="keywordflow">if</span> control_to_data_network:</div>
<div class="line"><span class="lineno">  532</span>        <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Don\&#39;t know how to use data network with k8s!!&#39;</span>)</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>    apps_desc = {}</div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordflow">for</span> name, app <span class="keywordflow">in</span> apps.items():</div>
<div class="line"><span class="lineno">  536</span>        apps_desc[name] = {</div>
<div class="line"><span class="lineno">  537</span>            <span class="stringliteral">&quot;exec&quot;</span>: <span class="stringliteral">&#39;daq_application_k8s&#39;</span>,</div>
<div class="line"><span class="lineno">  538</span>            <span class="stringliteral">&quot;node-selection&quot;</span>: app.node_selection,</div>
<div class="line"><span class="lineno">  539</span>            <span class="stringliteral">&quot;port&quot;</span>: base_command_port,</div>
<div class="line"><span class="lineno">  540</span>            <span class="stringliteral">&quot;mounted_dirs&quot;</span>: app.mounted_dirs,</div>
<div class="line"><span class="lineno">  541</span>            <span class="stringliteral">&quot;resources&quot;</span>: app.resources,</div>
<div class="line"><span class="lineno">  542</span>            <span class="stringliteral">&quot;affinity&quot;</span>: app.pod_affinity,</div>
<div class="line"><span class="lineno">  543</span>            <span class="stringliteral">&quot;anti-affinity&quot;</span>: app.pod_anti_affinity,</div>
<div class="line"><span class="lineno">  544</span>            <span class="stringliteral">&quot;privileged&quot;</span>: app.pod_privileged,</div>
<div class="line"><span class="lineno">  545</span>            <span class="stringliteral">&quot;capabilities&quot;</span>: app.pod_capabilities,</div>
<div class="line"><span class="lineno">  546</span>        }</div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span>    boot_data.update({<span class="stringliteral">&quot;apps&quot;</span>: apps_desc})</div>
<div class="line"><span class="lineno">  550</span>    boot_data.update({<span class="stringliteral">&quot;order&quot;</span>: boot_order})</div>
<div class="line"><span class="lineno">  551</span>    <span class="comment"># if &#39;rte_script&#39; in boot_data:</span></div>
<div class="line"><span class="lineno">  552</span>    <span class="comment">#     boot_data[&#39;exec&#39;][&#39;daq_application_k8s&#39;][&#39;cmd&#39;] = [&#39;daq_application&#39;]</span></div>
<div class="line"><span class="lineno">  553</span>    <span class="comment"># else:</span></div>
<div class="line"><span class="lineno">  554</span>    <span class="comment">#     boot_data[&#39;exec&#39;][&#39;daq_application_k8s&#39;][&#39;cmd&#39;] = [&#39;/dunedaq/run/app-entrypoint.sh&#39;]</span></div>
<div class="line"><span class="lineno">  555</span>    boot_data[<span class="stringliteral">&quot;exec&quot;</span>][<span class="stringliteral">&quot;daq_application_k8s&quot;</span>][<span class="stringliteral">&quot;image&quot;</span>] = image</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7282b6200ba0aaf6a67002daa14a5d46" name="a7282b6200ba0aaf6a67002daa14a5d46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7282b6200ba0aaf6a67002daa14a5d46">&#9670;&#160;</a></span>add_one_command_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.add_one_command_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>command_data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>command</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>default_params</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>app</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Add the command data for one command in one app to the command_data object. The modules to be sent the command are listed in `module_order`. If the module has an entry in its extra_commands dictionary for this command, then that entry is used as the parameters to pass to the command, otherwise the `default_params` object is passed</pre> 
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00172">172</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  172</span><span class="keyword">def </span>add_one_command_data(command_data, command, default_params, app):</div>
<div class="line"><span class="lineno">  173</span>    <span class="stringliteral">&quot;&quot;&quot;Add the command data for one command in one app to the command_data object. The modules to be sent the command are listed in `module_order`. If the module has an entry in its extra_commands dictionary for this command, then that entry is used as the parameters to pass to the command, otherwise the `default_params` object is passed&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  174</span>    mod_and_params=[(<span class="stringliteral">&quot;&quot;</span>, default_params)]</div>
<div class="line"><span class="lineno">  175</span>    <span class="comment"># for module in module_order:</span></div>
<div class="line"><span class="lineno">  176</span>    <span class="comment">#     extra_commands = app.modulegraph.get_module(module).extra_commands</span></div>
<div class="line"><span class="lineno">  177</span>    <span class="comment">#     if command in extra_commands:</span></div>
<div class="line"><span class="lineno">  178</span>    <span class="comment">#         mod_and_params.append((module, extra_commands[command]))</span></div>
<div class="line"><span class="lineno">  179</span>    <span class="comment">#     else:</span></div>
<div class="line"><span class="lineno">  180</span>    <span class="comment">#         mod_and_params.append((module, default_params))</span></div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    command_data[command] = acmd(mod_and_params)</div>
<div class="line"><span class="lineno">  183</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af31d84e6fb4c411024a231df164d5fcc" name="af31d84e6fb4c411024a231df164d5fcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af31d84e6fb4c411024a231df164d5fcc">&#9670;&#160;</a></span>data_network_translation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict daqconf.core.conf_utils.data_network_translation </td>
          <td>(</td>
          <td class="paramtype">dict</td>          <td class="paramname"><span class="paramname"><em>hosts</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Callable[[str],str]</td>          <td class="paramname"><span class="paramname"><em>control_to_data_network</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00463">463</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  463</span><span class="keyword">def </span>data_network_translation(hosts:dict, control_to_data_network:Callable[[str],str]=<span class="keywordtype">None</span>) -&gt; dict:</div>
<div class="line"><span class="lineno">  464</span>    hosts_data = {}</div>
<div class="line"><span class="lineno">  465</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> control_to_data_network:</div>
<div class="line"><span class="lineno">  466</span>        hosts_data = cp.deepcopy(hosts)</div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  468</span>        <span class="keywordflow">for</span> app, hostname <span class="keywordflow">in</span> hosts.items():</div>
<div class="line"><span class="lineno">  469</span>            hosts_data[app] = control_to_data_network(hostname)</div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">return</span> hosts_data</div>
<div class="line"><span class="lineno">  471</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af08ddd9982edaf3fdaf82243e8455cc4" name="af08ddd9982edaf3fdaf82243e8455cc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af08ddd9982edaf3fdaf82243e8455cc4">&#9670;&#160;</a></span>data_request_endpoint_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.data_request_endpoint_name </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>producer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00435">435</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  435</span><span class="keyword">def </span>data_request_endpoint_name(producer):</div>
<div class="line"><span class="lineno">  436</span>    <span class="keywordflow">return</span> f<span class="stringliteral">&quot;data_request_{geoid_raw_str(producer.geoid)}&quot;</span></div>
<div class="line"><span class="lineno">  437</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a18e91f7992f93cc9f4642d6854dbf127" name="a18e91f7992f93cc9f4642d6854dbf127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18e91f7992f93cc9f4642d6854dbf127">&#9670;&#160;</a></span>generate_boot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict daqconf.core.conf_utils.generate_boot </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>boot_conf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>system</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>control_to_data_network</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generate the dictionary that will become the boot.json file
</pre> 
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00564">564</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  568</span>        control_to_data_network = <span class="keywordtype">None</span>) -&gt; dict:</div>
<div class="line"><span class="lineno">  569</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  570</span><span class="stringliteral">    Generate the dictionary that will become the boot.json file</span></div>
<div class="line"><span class="lineno">  571</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>    info_svc_uri_map = {</div>
<div class="line"><span class="lineno">  574</span>        <span class="stringliteral">&#39;cern&#39;</span>:  <span class="stringliteral">&quot;kafka://monkafka.cern.ch:30092/opmon&quot;</span>,</div>
<div class="line"><span class="lineno">  575</span>        <span class="stringliteral">&#39;pocket&#39;</span>:  f<span class="stringliteral">&quot;kafka://{boot_conf.pocket_url}:30092/opmon&quot;</span>,</div>
<div class="line"><span class="lineno">  576</span>        <span class="stringliteral">&#39;local&#39;</span>: <span class="stringliteral">&quot;file://info_{APP_NAME}_{APP_PORT}.json&quot;</span></div>
<div class="line"><span class="lineno">  577</span>    }</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>    ers_settings=dict()</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>    <span class="keywordflow">if</span> boot_conf.ers_impl == <span class="stringliteral">&#39;cern&#39;</span>:</div>
<div class="line"><span class="lineno">  582</span>        use_kafka = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  583</span>        ers_settings[<span class="stringliteral">&quot;INFO&quot;</span>] =    <span class="stringliteral">&quot;erstrace,throttle,lstdout,protobufstream(monkafka.cern.ch:30092)&quot;</span></div>
<div class="line"><span class="lineno">  584</span>        ers_settings[<span class="stringliteral">&quot;WARNING&quot;</span>] = <span class="stringliteral">&quot;erstrace,throttle,lstdout,protobufstream(monkafka.cern.ch:30092)&quot;</span></div>
<div class="line"><span class="lineno">  585</span>        ers_settings[<span class="stringliteral">&quot;ERROR&quot;</span>] =   <span class="stringliteral">&quot;erstrace,throttle,lstdout,protobufstream(monkafka.cern.ch:30092)&quot;</span></div>
<div class="line"><span class="lineno">  586</span>        ers_settings[<span class="stringliteral">&quot;FATAL&quot;</span>] =   <span class="stringliteral">&quot;erstrace,lstdout,protobufstream(monkafka.cern.ch:30092)&quot;</span></div>
<div class="line"><span class="lineno">  587</span>    <span class="keywordflow">elif</span> boot_conf.ers_impl == <span class="stringliteral">&#39;pocket&#39;</span>:</div>
<div class="line"><span class="lineno">  588</span>        use_kafka = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  589</span>        ers_settings[<span class="stringliteral">&quot;INFO&quot;</span>] =    <span class="stringliteral">&quot;erstrace,throttle,lstdout,protobufstream(&quot;</span> + boot_conf.pocket_url + <span class="stringliteral">&quot;:30092)&quot;</span></div>
<div class="line"><span class="lineno">  590</span>        ers_settings[<span class="stringliteral">&quot;WARNING&quot;</span>] = <span class="stringliteral">&quot;erstrace,throttle,lstdout,protobufstream(&quot;</span> + boot_conf.pocket_url + <span class="stringliteral">&quot;:30092)&quot;</span></div>
<div class="line"><span class="lineno">  591</span>        ers_settings[<span class="stringliteral">&quot;ERROR&quot;</span>] =   <span class="stringliteral">&quot;erstrace,throttle,lstdout,protobufstream(&quot;</span> + boot_conf.pocket_url + <span class="stringliteral">&quot;:30092)&quot;</span></div>
<div class="line"><span class="lineno">  592</span>        ers_settings[<span class="stringliteral">&quot;FATAL&quot;</span>] =   <span class="stringliteral">&quot;erstrace,lstdout,protobufstream(&quot;</span> + boot_conf.pocket_url + <span class="stringliteral">&quot;:30092)&quot;</span></div>
<div class="line"><span class="lineno">  593</span>    <span class="keywordflow">elif</span> boot_conf.ers_impl == <span class="stringliteral">&#39;local&#39;</span>:</div>
<div class="line"><span class="lineno">  594</span>        use_kafka = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  595</span>        ers_settings[<span class="stringliteral">&quot;INFO&quot;</span>] =    <span class="stringliteral">&quot;erstrace,throttle,lstdout&quot;</span></div>
<div class="line"><span class="lineno">  596</span>        ers_settings[<span class="stringliteral">&quot;WARNING&quot;</span>] = <span class="stringliteral">&quot;erstrace,throttle,lstdout&quot;</span></div>
<div class="line"><span class="lineno">  597</span>        ers_settings[<span class="stringliteral">&quot;ERROR&quot;</span>] =   <span class="stringliteral">&quot;erstrace,throttle,lstdout&quot;</span></div>
<div class="line"><span class="lineno">  598</span>        ers_settings[<span class="stringliteral">&quot;FATAL&quot;</span>] =   <span class="stringliteral">&quot;erstrace,lstdout&quot;</span></div>
<div class="line"><span class="lineno">  599</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  600</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Unknown boot_conf.ers_impl value {boot_conf.ers_impl}&quot;</span>)</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>    info_svc_uri = info_svc_uri_map[boot_conf.opmon_impl]</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>    daq_app_exec_name = f<span class="stringliteral">&quot;daq_application_{boot_conf.process_manager}&quot;</span></div>
<div class="line"><span class="lineno">  605</span>    controller_exec_name = f<span class="stringliteral">&quot;drunc_controller_{boot_conf.process_manager}&quot;</span></div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>    capture_paths = [</div>
<div class="line"><span class="lineno">  608</span>        <span class="stringliteral">&#39;PATH&#39;</span>,</div>
<div class="line"><span class="lineno">  609</span>        <span class="stringliteral">&#39;LD_LIBRARY_PATH&#39;</span>,</div>
<div class="line"><span class="lineno">  610</span>        <span class="stringliteral">&#39;CET_PLUGIN_PATH&#39;</span>,</div>
<div class="line"><span class="lineno">  611</span>        <span class="stringliteral">&#39;DUNEDAQ_SHARE_PATH&#39;</span></div>
<div class="line"><span class="lineno">  612</span>    ]</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>    app_env = {</div>
<div class="line"><span class="lineno">  615</span>        <span class="stringliteral">&quot;TRACE_FILE&quot;</span>: <span class="stringliteral">&quot;getenv:/tmp/trace_buffer_{APP_HOST}_{DUNEDAQ_PARTITION}&quot;</span> <span class="keywordflow">if</span> boot_conf.process_manager == <span class="stringliteral">&#39;ssh&#39;</span> <span class="keywordflow">else</span> <span class="stringliteral">&quot;getenv:/tmp/trace-buffers/trace_buffer_{APP_HOST}_{DUNEDAQ_PARTITION}&quot;</span>,</div>
<div class="line"><span class="lineno">  616</span>        <span class="stringliteral">&quot;CMD_FAC&quot;</span>: <span class="stringliteral">&quot;rest://localhost:{APP_PORT}&quot;</span>,</div>
<div class="line"><span class="lineno">  617</span>        <span class="stringliteral">&quot;CONNECTION_SERVER&quot;</span>: resolve_localhost(boot_conf.connectivity_service_host),</div>
<div class="line"><span class="lineno">  618</span>        <span class="stringliteral">&quot;CONNECTION_PORT&quot;</span>: f<span class="stringliteral">&quot;{boot_conf.connectivity_service_port}&quot;</span>,</div>
<div class="line"><span class="lineno">  619</span>        <span class="stringliteral">&quot;INFO_SVC&quot;</span>: info_svc_uri,</div>
<div class="line"><span class="lineno">  620</span>    }</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>    app_env.update({</div>
<div class="line"><span class="lineno">  623</span>        p:<span class="stringliteral">&#39;getenv&#39;</span> <span class="keywordflow">for</span> p <span class="keywordflow">in</span> capture_paths</div>
<div class="line"><span class="lineno">  624</span>    })</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>    app_env.update({</div>
<div class="line"><span class="lineno">  627</span>        v:<span class="stringliteral">&#39;getenv&#39;</span> <span class="keywordflow">for</span> v <span class="keywordflow">in</span> boot_conf.capture_env_vars</div>
<div class="line"><span class="lineno">  628</span>    })</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>    daq_app_specs = {</div>
<div class="line"><span class="lineno">  633</span>        daq_app_exec_name : {</div>
<div class="line"><span class="lineno">  634</span>            <span class="stringliteral">&quot;comment&quot;</span>: <span class="stringliteral">&quot;Application profile using PATH variables (lower start time)&quot;</span>,</div>
<div class="line"><span class="lineno">  635</span>            <span class="stringliteral">&quot;env&quot;</span>: app_env,</div>
<div class="line"><span class="lineno">  636</span>            <span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;daq_application&quot;</span>,</div>
<div class="line"><span class="lineno">  637</span>            <span class="stringliteral">&quot;args&quot;</span>: [</div>
<div class="line"><span class="lineno">  638</span>                <span class="stringliteral">&quot;--name&quot;</span>,</div>
<div class="line"><span class="lineno">  639</span>                <span class="stringliteral">&quot;{APP_NAME}&quot;</span>,</div>
<div class="line"><span class="lineno">  640</span>                <span class="stringliteral">&quot;-c&quot;</span>,</div>
<div class="line"><span class="lineno">  641</span>                <span class="stringliteral">&quot;{CMD_FAC}&quot;</span>,</div>
<div class="line"><span class="lineno">  642</span>                <span class="stringliteral">&quot;-i&quot;</span>,</div>
<div class="line"><span class="lineno">  643</span>                <span class="stringliteral">&quot;{INFO_SVC}&quot;</span>,</div>
<div class="line"><span class="lineno">  644</span>                <span class="stringliteral">&quot;--configurationService&quot;</span>,</div>
<div class="line"><span class="lineno">  645</span>                <span class="stringliteral">&quot;{CONF_LOC}&quot;</span></div>
<div class="line"><span class="lineno">  646</span>            ]</div>
<div class="line"><span class="lineno">  647</span>        }</div>
<div class="line"><span class="lineno">  648</span>    }</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">if</span> boot_conf.run_control == <span class="stringliteral">&#39;drunc&#39;</span>:</div>
<div class="line"><span class="lineno">  651</span>        daq_app_specs[controller_exec_name] = {</div>
<div class="line"><span class="lineno">  652</span>            <span class="stringliteral">&quot;comment&quot;</span>: <span class="stringliteral">&quot;Controller&quot;</span>,</div>
<div class="line"><span class="lineno">  653</span>            <span class="stringliteral">&quot;env&quot;</span>: app_env,</div>
<div class="line"><span class="lineno">  654</span>            <span class="stringliteral">&quot;cmd&quot;</span>:<span class="stringliteral">&quot;drunc-controller&quot;</span>,</div>
<div class="line"><span class="lineno">  655</span>            <span class="stringliteral">&quot;args&quot;</span>: [</div>
<div class="line"><span class="lineno">  656</span>                <span class="stringliteral">&quot;{CONF_LOC}&quot;</span>,</div>
<div class="line"><span class="lineno">  657</span>                <span class="stringliteral">&quot;{APP_PORT}&quot;</span>,</div>
<div class="line"><span class="lineno">  658</span>                <span class="stringliteral">&quot;{APP_NAME}&quot;</span>,</div>
<div class="line"><span class="lineno">  659</span>                <span class="stringliteral">&quot;{DUNEDAQ_PARTITION}&quot;</span>,</div>
<div class="line"><span class="lineno">  660</span>            ]</div>
<div class="line"><span class="lineno">  661</span>        }</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span>    boot = {</div>
<div class="line"><span class="lineno">  664</span>        <span class="stringliteral">&quot;env&quot;</span>: {</div>
<div class="line"><span class="lineno">  665</span>            <span class="stringliteral">&quot;DUNEDAQ_ERS_VERBOSITY_LEVEL&quot;</span>: <span class="stringliteral">&quot;getenv:1&quot;</span>,</div>
<div class="line"><span class="lineno">  666</span>            <span class="stringliteral">&quot;DUNEDAQ_ERS_INFO&quot;</span>: ers_settings[<span class="stringliteral">&quot;INFO&quot;</span>],</div>
<div class="line"><span class="lineno">  667</span>            <span class="stringliteral">&quot;DUNEDAQ_ERS_WARNING&quot;</span>: ers_settings[<span class="stringliteral">&quot;WARNING&quot;</span>],</div>
<div class="line"><span class="lineno">  668</span>            <span class="stringliteral">&quot;DUNEDAQ_ERS_ERROR&quot;</span>: ers_settings[<span class="stringliteral">&quot;ERROR&quot;</span>],</div>
<div class="line"><span class="lineno">  669</span>            <span class="stringliteral">&quot;DUNEDAQ_ERS_FATAL&quot;</span>: ers_settings[<span class="stringliteral">&quot;FATAL&quot;</span>],</div>
<div class="line"><span class="lineno">  670</span>            <span class="stringliteral">&quot;DUNEDAQ_ERS_DEBUG_LEVEL&quot;</span>: <span class="stringliteral">&quot;getenv_ifset&quot;</span>,</div>
<div class="line"><span class="lineno">  671</span>        },</div>
<div class="line"><span class="lineno">  672</span>        <span class="stringliteral">&quot;response_listener&quot;</span>: {</div>
<div class="line"><span class="lineno">  673</span>            <span class="stringliteral">&quot;port&quot;</span>: 56789</div>
<div class="line"><span class="lineno">  674</span>        },</div>
<div class="line"><span class="lineno">  675</span>        <span class="stringliteral">&quot;external_connections&quot;</span>: [],</div>
<div class="line"><span class="lineno">  676</span>        <span class="stringliteral">&quot;exec&quot;</span>: daq_app_specs</div>
<div class="line"><span class="lineno">  677</span>    }</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>    <span class="keywordflow">if</span> use_kafka:</div>
<div class="line"><span class="lineno">  680</span>        boot[<span class="stringliteral">&quot;env&quot;</span>][<span class="stringliteral">&quot;DUNEDAQ_ERS_STREAM_LIBS&quot;</span>] = <span class="stringliteral">&quot;erskafka&quot;</span></div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>    <span class="keywordflow">if</span> boot_conf.disable_trace:</div>
<div class="line"><span class="lineno">  683</span>        del boot[<span class="stringliteral">&quot;exec&quot;</span>][daq_app_exec_name][<span class="stringliteral">&quot;env&quot;</span>][<span class="stringliteral">&quot;TRACE_FILE&quot;</span>]</div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>    boot[<span class="stringliteral">&#39;rte_script&#39;</span>] = get_rte_script()</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>    <span class="keywordflow">if</span> boot_conf.process_manager == <span class="stringliteral">&#39;ssh&#39;</span>:</div>
<div class="line"><span class="lineno">  688</span>        <span class="keywordflow">for</span> app <span class="keywordflow">in</span> system.apps.values():</div>
<div class="line"><span class="lineno">  689</span>            app.host = resolve_localhost(app.host)</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>        update_with_ssh_boot_data(</div>
<div class="line"><span class="lineno">  692</span>            boot_data = boot,</div>
<div class="line"><span class="lineno">  693</span>            apps = system.apps,</div>
<div class="line"><span class="lineno">  694</span>            base_command_port = boot_conf.base_command_port,</div>
<div class="line"><span class="lineno">  695</span>            verbose = verbose,</div>
<div class="line"><span class="lineno">  696</span>            control_to_data_network = control_to_data_network,</div>
<div class="line"><span class="lineno">  697</span>            use_drunc = boot_conf.run_control == <span class="stringliteral">&#39;drunc&#39;</span>,</div>
<div class="line"><span class="lineno">  698</span>            controller_host = boot_conf.controller_host,</div>
<div class="line"><span class="lineno">  699</span>        )</div>
<div class="line"><span class="lineno">  700</span>    <span class="keywordflow">elif</span> boot_conf.process_manager == <span class="stringliteral">&#39;k8s&#39;</span>:</div>
<div class="line"><span class="lineno">  701</span>        <span class="comment"># ARGGGGG (MASSIVE WARNING SIGN HERE)</span></div>
<div class="line"><span class="lineno">  702</span>        ruapps    = [app <span class="keywordflow">for</span> app <span class="keywordflow">in</span> system.apps.keys() <span class="keywordflow">if</span> app[:2] == <span class="stringliteral">&#39;ru&#39;</span>]</div>
<div class="line"><span class="lineno">  703</span>        dfapps    = [app <span class="keywordflow">for</span> app <span class="keywordflow">in</span> system.apps.keys() <span class="keywordflow">if</span> app[:2] == <span class="stringliteral">&#39;df&#39;</span>]</div>
<div class="line"><span class="lineno">  704</span>        otherapps = [app <span class="keywordflow">for</span> app <span class="keywordflow">in</span> system.apps.keys() <span class="keywordflow">if</span> <span class="keywordflow">not</span> app <span class="keywordflow">in</span> ruapps + dfapps]</div>
<div class="line"><span class="lineno">  705</span>        boot_order = ruapps + dfapps + otherapps</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">if</span> boot_conf.run_control == <span class="stringliteral">&#39;drunc&#39;</span>:</div>
<div class="line"><span class="lineno">  708</span>            <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Cannot use drunc with k8s&#39;</span>)</div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span>        add_k8s_app_boot_data(</div>
<div class="line"><span class="lineno">  711</span>            boot_data = boot,</div>
<div class="line"><span class="lineno">  712</span>            apps = system.apps,</div>
<div class="line"><span class="lineno">  713</span>            boot_order = boot_order,</div>
<div class="line"><span class="lineno">  714</span>            image = boot_conf.k8s_image,</div>
<div class="line"><span class="lineno">  715</span>            base_command_port = boot_conf.base_command_port,</div>
<div class="line"><span class="lineno">  716</span>            verbose = verbose,</div>
<div class="line"><span class="lineno">  717</span>            control_to_data_network = control_to_data_network,</div>
<div class="line"><span class="lineno">  718</span>        )</div>
<div class="line"><span class="lineno">  719</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  720</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Unknown boot_conf.process_manager value {boot_conf.process_manager}&quot;</span>)</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>    <span class="keywordflow">if</span> boot_conf.start_connectivity_service:</div>
<div class="line"><span class="lineno">  724</span>        <span class="keywordflow">if</span> boot_conf.process_manager == <span class="stringliteral">&#39;k8s&#39;</span>:</div>
<div class="line"><span class="lineno">  725</span>            <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  726</span>                <span class="stringliteral">&#39;Starting connectivity service only supported with ssh&#39;</span>)</div>
<div class="line"><span class="lineno">  727</span> </div>
<div class="line"><span class="lineno">  728</span>        <span class="comment"># CONNECTION_PORT will be updatd by nanorc remove this entry</span></div>
<div class="line"><span class="lineno">  729</span>        daq_app_specs[daq_app_exec_name][<span class="stringliteral">&quot;env&quot;</span>].pop(<span class="stringliteral">&quot;CONNECTION_PORT&quot;</span>)</div>
<div class="line"><span class="lineno">  730</span>        consvc={</div>
<div class="line"><span class="lineno">  731</span>            <span class="stringliteral">&quot;connectionservice&quot;</span>: {</div>
<div class="line"><span class="lineno">  732</span>                <span class="stringliteral">&quot;exec&quot;</span>: <span class="stringliteral">&quot;consvc_ssh&quot;</span>,</div>
<div class="line"><span class="lineno">  733</span>                <span class="stringliteral">&quot;host&quot;</span>: <span class="stringliteral">&quot;connectionservice&quot;</span>,</div>
<div class="line"><span class="lineno">  734</span>                <span class="stringliteral">&quot;port&quot;</span>: boot_conf.connectivity_service_port,</div>
<div class="line"><span class="lineno">  735</span>                <span class="stringliteral">&quot;update-env&quot;</span>: {</div>
<div class="line"><span class="lineno">  736</span>                    <span class="stringliteral">&quot;CONNECTION_PORT&quot;</span>: <span class="stringliteral">&quot;{APP_PORT}&quot;</span></div>
<div class="line"><span class="lineno">  737</span>                }</div>
<div class="line"><span class="lineno">  738</span>            }</div>
<div class="line"><span class="lineno">  739</span>        }</div>
<div class="line"><span class="lineno">  740</span>        consvc_exec={</div>
<div class="line"><span class="lineno">  741</span>            <span class="stringliteral">&quot;consvc_ssh&quot;</span>: {</div>
<div class="line"><span class="lineno">  742</span>                <span class="stringliteral">&quot;args&quot;</span>: [</div>
<div class="line"><span class="lineno">  743</span>                    <span class="stringliteral">&quot;--bind=0.0.0.0:{APP_PORT}&quot;</span>,</div>
<div class="line"><span class="lineno">  744</span>                    <span class="stringliteral">&quot;--workers=1&quot;</span>,</div>
<div class="line"><span class="lineno">  745</span>                    <span class="stringliteral">&quot;--worker-class=gthread&quot;</span>,</div>
<div class="line"><span class="lineno">  746</span>                    f<span class="stringliteral">&quot;--threads={boot_conf.connectivity_service_threads}&quot;</span>,</div>
<div class="line"><span class="lineno">  747</span>                    <span class="stringliteral">&quot;--graceful-timeout=0&quot;</span>,</div>
<div class="line"><span class="lineno">  748</span>                    <span class="stringliteral">&quot;--timeout=0&quot;</span>,</div>
<div class="line"><span class="lineno">  749</span>                    <span class="stringliteral">&quot;--pid={APP_NAME}_{APP_PORT}.pid&quot;</span>,</div>
<div class="line"><span class="lineno">  750</span>                    <span class="stringliteral">&quot;connection-service.connection-flask:app&quot;</span></div>
<div class="line"><span class="lineno">  751</span>                ],</div>
<div class="line"><span class="lineno">  752</span>                <span class="stringliteral">&quot;cmd&quot;</span>: <span class="stringliteral">&quot;gunicorn&quot;</span>,</div>
<div class="line"><span class="lineno">  753</span>                <span class="stringliteral">&quot;env&quot;</span>: {</div>
<div class="line"><span class="lineno">  754</span>                    <span class="stringliteral">&quot;CONNECTION_FLASK_DEBUG&quot;</span>: <span class="stringliteral">&quot;getenv:2&quot;</span>,</div>
<div class="line"><span class="lineno">  755</span>                    <span class="stringliteral">&quot;PATH&quot;</span>: <span class="stringliteral">&quot;getenv&quot;</span>,</div>
<div class="line"><span class="lineno">  756</span>                    <span class="stringliteral">&quot;PYTHONPATH&quot;</span>: <span class="stringliteral">&quot;getenv&quot;</span></div>
<div class="line"><span class="lineno">  757</span>                }</div>
<div class="line"><span class="lineno">  758</span>            }</div>
<div class="line"><span class="lineno">  759</span>        }</div>
<div class="line"><span class="lineno">  760</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> <span class="stringliteral">&quot;services&quot;</span> <span class="keywordflow">in</span> boot:</div>
<div class="line"><span class="lineno">  761</span>            boot[<span class="stringliteral">&quot;services&quot;</span>]={}</div>
<div class="line"><span class="lineno">  762</span>        boot[<span class="stringliteral">&quot;services&quot;</span>].update(consvc)</div>
<div class="line"><span class="lineno">  763</span>        boot[<span class="stringliteral">&quot;exec&quot;</span>].update(consvc_exec)</div>
<div class="line"><span class="lineno">  764</span>        boot_conf.connectivity_service_host = resolve_localhost(boot_conf.connectivity_service_host)</div>
<div class="line"><span class="lineno">  765</span>        boot[<span class="stringliteral">&quot;hosts-ctrl&quot;</span>].update({<span class="stringliteral">&quot;connectionservice&quot;</span>:</div>
<div class="line"><span class="lineno">  766</span>                                   boot_conf.connectivity_service_host})</div>
<div class="line"><span class="lineno">  767</span>    <span class="keywordflow">return</span> boot</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a47d4ba8aef2cc9971e8b6b374e69b45b" name="a47d4ba8aef2cc9971e8b6b374e69b45b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47d4ba8aef2cc9971e8b6b374e69b45b">&#9670;&#160;</a></span>get_releases_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.get_releases_dir </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00902">902</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  902</span><span class="keyword">def </span>get_releases_dir():</div>
<div class="line"><span class="lineno">  903</span>    <span class="keyword">from</span> os <span class="keyword">import</span> getenv</div>
<div class="line"><span class="lineno">  904</span>    releases_dir = getenv(<span class="stringliteral">&quot;SPACK_RELEASES_DIR&quot;</span>)</div>
<div class="line"><span class="lineno">  905</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> releases_dir:</div>
<div class="line"><span class="lineno">  906</span>        <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Utils: cannot get env SPACK_RELEASES_DIR! Exit nanorc and\nrun dbt-workarea-env or dbt-setup-release.&#39;</span>)</div>
<div class="line"><span class="lineno">  907</span>    <span class="keywordflow">return</span> releases_dir</div>
<div class="line"><span class="lineno">  908</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1511af65778ad2c8e329cd1afc0bbd5" name="ad1511af65778ad2c8e329cd1afc0bbd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1511af65778ad2c8e329cd1afc0bbd5">&#9670;&#160;</a></span>get_rte_script()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.get_rte_script </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00921">921</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  921</span><span class="keyword">def </span>get_rte_script():</div>
<div class="line"><span class="lineno">  922</span>    <span class="keyword">from</span> os <span class="keyword">import</span> path,getenv</div>
<div class="line"><span class="lineno">  923</span>    script = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  924</span>    <span class="keywordflow">if</span> release_or_dev() == <span class="stringliteral">&#39;rel&#39;</span>:</div>
<div class="line"><span class="lineno">  925</span>        ver = get_version()</div>
<div class="line"><span class="lineno">  926</span>        releases_dir = get_releases_dir()</div>
<div class="line"><span class="lineno">  927</span>        script = path.join(releases_dir, ver, <span class="stringliteral">&#39;daq_app_rte.sh&#39;</span>)</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  930</span>        dbt_install_dir = getenv(<span class="stringliteral">&#39;DBT_INSTALL_DIR&#39;</span>)</div>
<div class="line"><span class="lineno">  931</span>        script = path.join(dbt_install_dir, <span class="stringliteral">&#39;daq_app_rte.sh&#39;</span>)</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> path.exists(script):</div>
<div class="line"><span class="lineno">  934</span>        <span class="keywordflow">raise</span> RuntimeError(f<span class="stringliteral">&#39;Couldn\&#39;t understand where to find the rte script tentative: {script}&#39;</span>)</div>
<div class="line"><span class="lineno">  935</span>    <span class="keywordflow">return</span> script</div>
</div><!-- fragment -->
</div>
</div>
<a id="a183f39bd1cbe0a3ce29468f3f9668cbc" name="a183f39bd1cbe0a3ce29468f3f9668cbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a183f39bd1cbe0a3ce29468f3f9668cbc">&#9670;&#160;</a></span>get_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.get_version </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00895">895</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  895</span><span class="keyword">def </span>get_version():</div>
<div class="line"><span class="lineno">  896</span>    <span class="keyword">from</span> os <span class="keyword">import</span> getenv</div>
<div class="line"><span class="lineno">  897</span>    version = getenv(<span class="stringliteral">&quot;DUNE_DAQ_BASE_RELEASE&quot;</span>)</div>
<div class="line"><span class="lineno">  898</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> version:</div>
<div class="line"><span class="lineno">  899</span>        <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Utils: dunedaq version not in the variable env DUNE_DAQ_BASE_RELEASE! Exit nanorc and\nexport DUNE_DAQ_BASE_RELEASE=dunedaq-vX.XX.XX\n&#39;</span>)</div>
<div class="line"><span class="lineno">  900</span>    <span class="keywordflow">return</span> version</div>
<div class="line"><span class="lineno">  901</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa138d1cd5fd555cbf7662f367717d437" name="aa138d1cd5fd555cbf7662f367717d437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa138d1cd5fd555cbf7662f367717d437">&#9670;&#160;</a></span>make_app_command_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.make_app_command_data </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>system</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>app</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>appkey</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>use_k8s</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>use_connectivity_service</em><span class="paramdefsep"> = </span><span class="paramdefval">True</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>connectivity_service_interval</em><span class="paramdefsep"> = </span><span class="paramdefval">1000</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Given an App instance, create the 'command data' suitable for
feeding to nanorc. The needed queues are inferred from from
connections between modules, as are the start and stop order of the
modules

TODO: This should probably be split up into separate stages of
inferring/creating the queues (which can be part of validation)
and actually making the command data objects for nanorc.</pre> 
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00349">349</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  349</span><span class="keyword">def </span>make_app_command_data(system, app, appkey, verbose=False, use_k8s=False, use_connectivity_service=True, connectivity_service_interval=1000):</div>
<div class="line"><span class="lineno">  350</span>    <span class="stringliteral">&quot;&quot;&quot;Given an App instance, create the &#39;command data&#39; suitable for</span></div>
<div class="line"><span class="lineno">  351</span><span class="stringliteral">    feeding to nanorc. The needed queues are inferred from from</span></div>
<div class="line"><span class="lineno">  352</span><span class="stringliteral">    connections between modules, as are the start and stop order of the</span></div>
<div class="line"><span class="lineno">  353</span><span class="stringliteral">    modules</span></div>
<div class="line"><span class="lineno">  354</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  355</span><span class="stringliteral">    TODO: This should probably be split up into separate stages of</span></div>
<div class="line"><span class="lineno">  356</span><span class="stringliteral">    inferring/creating the queues (which can be part of validation)</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral">    and actually making the command data objects for nanorc.</span></div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">if</span> <span class="stringliteral">&#39;_&#39;</span> <span class="keywordflow">in</span> appkey:</div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordflow">raise</span> RuntimeError(f<span class="stringliteral">&#39;Application &quot;{appkey}&quot; is invalid, it shouldn\&#39;t contain the character &quot;_&quot;. Change its name.&#39;</span>)</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>    <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  365</span>        console.log(f<span class="stringliteral">&quot;Making app command data for {app.name}&quot;</span>)</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>    command_data = {}</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>    <span class="keywordflow">if</span> len(system.connections) == 0 <span class="keywordflow">and</span> len(system.queues) == 0:</div>
<div class="line"><span class="lineno">  371</span>        make_system_connections(system, verbose, use_k8s=use_k8s, use_connectivity_service=use_connectivity_service)</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>    module_deps = make_module_deps(app, system.connections[appkey], verbose)</div>
<div class="line"><span class="lineno">  374</span>    <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  375</span>        console.log(f<span class="stringliteral">&quot;inter-module dependencies are: {module_deps}&quot;</span>)</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>    <span class="comment"># stop_order = list(nx.algorithms.dag.topological_sort(module_deps))</span></div>
<div class="line"><span class="lineno">  378</span>    <span class="comment"># start_order = stop_order[::-1]</span></div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    <span class="comment"># if verbose:</span></div>
<div class="line"><span class="lineno">  381</span>        <span class="comment"># console.log(f&quot;Inferred module start order is {start_order}&quot;)</span></div>
<div class="line"><span class="lineno">  382</span>        <span class="comment"># console.log(f&quot;Inferred module stop order is {stop_order}&quot;)</span></div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span>    app_connrefs = defaultdict(list)</div>
<div class="line"><span class="lineno">  385</span>    <span class="keywordflow">for</span> endpoint <span class="keywordflow">in</span> app.modulegraph.endpoints:</div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordflow">if</span> endpoint.internal_name <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  387</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  388</span>        module, name = endpoint.internal_name.split(<span class="stringliteral">&quot;.&quot;</span>)</div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  390</span>            console.log(f<span class="stringliteral">&quot;module, name= {module}, {name}, endpoint.external_name={endpoint.external_name}, endpoint.direction={endpoint.direction}&quot;</span>)</div>
<div class="line"><span class="lineno">  391</span>        app_connrefs[module] += [appfwk.ConnectionReference(name=name, uid=endpoint.external_name)]</div>
<div class="line"><span class="lineno">  392</span> </div>
<div class="line"><span class="lineno">  393</span>    <span class="keywordflow">for</span> queue <span class="keywordflow">in</span> app.modulegraph.queues:</div>
<div class="line"><span class="lineno">  394</span>        queue_uid = queue.name</div>
<div class="line"><span class="lineno">  395</span>        <span class="keywordflow">for</span> push_mod <span class="keywordflow">in</span> queue.push_modules:</div>
<div class="line"><span class="lineno">  396</span>            module, name = push_mod.split(<span class="stringliteral">&quot;.&quot;</span>, maxsplit=1)</div>
<div class="line"><span class="lineno">  397</span>            app_connrefs[module] += [appfwk.ConnectionReference(name=name, uid=queue_uid)]</div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordflow">for</span> pop_mod <span class="keywordflow">in</span> queue.pop_modules:</div>
<div class="line"><span class="lineno">  399</span>            module, name = pop_mod.split(<span class="stringliteral">&quot;.&quot;</span>, maxsplit=1)</div>
<div class="line"><span class="lineno">  400</span>            app_connrefs[module] += [appfwk.ConnectionReference(name=name, uid=queue_uid)]</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>    <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  403</span>        console.log(f<span class="stringliteral">&quot;Creating mod_specs for {[ (mod.name, mod.plugin) for mod in app.modulegraph.modules ]}&quot;</span>)</div>
<div class="line"><span class="lineno">  404</span>    mod_specs = [ mspec(mod.name, mod.plugin, app_connrefs[mod.name]) <span class="keywordflow">for</span> mod <span class="keywordflow">in</span> app.modulegraph.modules ]</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>    <span class="comment"># Fill in the &quot;standard&quot; command entries in the command_data structure</span></div>
<div class="line"><span class="lineno">  407</span>    command_data[<span class="stringliteral">&#39;init&#39;</span>] = appfwk.Init(modules=mod_specs,</div>
<div class="line"><span class="lineno">  408</span>                                       connections=system.connections[appkey],</div>
<div class="line"><span class="lineno">  409</span>                                       queues=system.queues[appkey],</div>
<div class="line"><span class="lineno">  410</span>                                       use_connectivity_service=use_connectivity_service,</div>
<div class="line"><span class="lineno">  411</span>                                       connectivity_service_interval_ms=connectivity_service_interval)</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>    <span class="comment"># TODO: Conf ordering</span></div>
<div class="line"><span class="lineno">  414</span>    command_data[<span class="stringliteral">&#39;conf&#39;</span>] = acmd([</div>
<div class="line"><span class="lineno">  415</span>        (mod.name, mod.conf) <span class="keywordflow">for</span> mod <span class="keywordflow">in</span> app.modulegraph.modules</div>
<div class="line"><span class="lineno">  416</span>    ])</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    startpars = rccmd.StartParams(run=1, disable_data_storage=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  419</span>    <span class="comment"># resumepars = rccmd.ResumeParams()</span></div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>    add_one_command_data(command_data, <span class="stringliteral">&quot;start&quot;</span>,            startpars,  app)</div>
<div class="line"><span class="lineno">  422</span>    add_one_command_data(command_data, <span class="stringliteral">&quot;stop&quot;</span>,             <span class="keywordtype">None</span>,       app)</div>
<div class="line"><span class="lineno">  423</span>    add_one_command_data(command_data, <span class="stringliteral">&quot;prestop1&quot;</span>,         <span class="keywordtype">None</span>,       app)</div>
<div class="line"><span class="lineno">  424</span>    add_one_command_data(command_data, <span class="stringliteral">&quot;prestop2&quot;</span>,         <span class="keywordtype">None</span>,       app)</div>
<div class="line"><span class="lineno">  425</span>    add_one_command_data(command_data, <span class="stringliteral">&quot;disable_triggers&quot;</span>, <span class="keywordtype">None</span>,       app)</div>
<div class="line"><span class="lineno">  426</span>    add_one_command_data(command_data, <span class="stringliteral">&quot;enable_triggers&quot;</span>,  <span class="keywordtype">None</span>,       app)</div>
<div class="line"><span class="lineno">  427</span>    add_one_command_data(command_data, <span class="stringliteral">&quot;scrap&quot;</span>,            <span class="keywordtype">None</span>,       app)</div>
<div class="line"><span class="lineno">  428</span>    <span class="comment"># add_one_command_data(command_data, &quot;resume&quot;,           resumepars, app)</span></div>
<div class="line"><span class="lineno">  429</span>    <span class="comment"># add_one_command_data(command_data, &quot;pause&quot;,            None,       app)</span></div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>    <span class="comment"># TODO: handle modules&#39; `extra_commands`, including &quot;record&quot;</span></div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>    <span class="keywordflow">return</span> command_data</div>
<div class="line"><span class="lineno">  434</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adcaa57ce8fd00ec1558558200ab66829" name="adcaa57ce8fd00ec1558558200ab66829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcaa57ce8fd00ec1558558200ab66829">&#9670;&#160;</a></span>make_app_deps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.make_app_deps </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>the_system</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>forced_deps</em><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Produce a dictionary giving
the dependencies between a set of applications, given their connections.

Returns a networkx DiGraph object where nodes are app names
</pre> 
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00153">153</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  153</span><span class="keyword">def </span>make_app_deps(the_system, forced_deps=[], verbose=False):</div>
<div class="line"><span class="lineno">  154</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral">    Produce a dictionary giving</span></div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral">    the dependencies between a set of applications, given their connections.</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  158</span><span class="stringliteral">    Returns a networkx DiGraph object where nodes are app names</span></div>
<div class="line"><span class="lineno">  159</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    deps = the_system.make_digraph(for_toposort=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordflow">for</span> from_app,to_app <span class="keywordflow">in</span> forced_deps:</div>
<div class="line"><span class="lineno">  164</span>        deps.add_edge(from_app, to_app, label=<span class="stringliteral">&quot;FORCED DEPENDENCY&quot;</span>, color=<span class="stringliteral">&quot;green&quot;</span>)</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  167</span>        console.log(<span class="stringliteral">&quot;Writing app deps to make_app_deps.dot&quot;</span>)</div>
<div class="line"><span class="lineno">  168</span>        nx.drawing.nx_pydot.write_dot(deps, <span class="stringliteral">&quot;make_app_deps.dot&quot;</span>)</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">return</span> deps</div>
<div class="line"><span class="lineno">  171</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac88c0467b2ddd3428edac2ca37b547b3" name="ac88c0467b2ddd3428edac2ca37b547b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac88c0467b2ddd3428edac2ca37b547b3">&#9670;&#160;</a></span>make_app_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.make_app_json </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>app_name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>app_command_data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>data_dir</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Make the json files for a single application</pre> 
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00802">802</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  802</span><span class="keyword">def </span>make_app_json(app_name, app_command_data, data_dir, verbose=False):</div>
<div class="line"><span class="lineno">  803</span>    <span class="stringliteral">&quot;&quot;&quot;Make the json files for a single application&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>    <span class="comment"># Backwards compatibility</span></div>
<div class="line"><span class="lineno">  806</span>    <span class="keywordflow">if</span> isinstance(data_dir, str):</div>
<div class="line"><span class="lineno">  807</span>        data_dir = Path(data_dir)</div>
<div class="line"><span class="lineno">  808</span> </div>
<div class="line"><span class="lineno">  809</span>    <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  810</span>        console.log(f<span class="stringliteral">&quot;make_app_json for app {app_name}&quot;</span>)</div>
<div class="line"><span class="lineno">  811</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> cmd_set:</div>
<div class="line"><span class="lineno">  812</span>        <span class="keyword">with</span> open(data_dir / f<span class="stringliteral">&#39;{app_name}_{c}.json&#39;</span>, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  813</span>            json.dump(app_command_data[c].pod(), f, indent=4, sort_keys=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  814</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a64224c11a79572b77a3b7fb3fbd14870" name="a64224c11a79572b77a3b7fb3fbd14870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64224c11a79572b77a3b7fb3fbd14870">&#9670;&#160;</a></span>make_module_deps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.make_module_deps </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>app</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>system_connections</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Given a list of `module` objects, produce a dictionary giving
the dependencies between them. A dependency is any connection between
modules. Connections whose upstream ends begin with a '!' are not
considered dependencies, to allow us to break cycles in the DAG.

Returns a networkx DiGraph object where nodes are module names
</pre> 
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00108">108</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  108</span><span class="keyword">def </span>make_module_deps(app, system_connections, verbose=False):</div>
<div class="line"><span class="lineno">  109</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">    Given a list of `module` objects, produce a dictionary giving</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral">    the dependencies between them. A dependency is any connection between</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">    modules. Connections whose upstream ends begin with a &#39;!&#39; are not</span></div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">    considered dependencies, to allow us to break cycles in the DAG.</span></div>
<div class="line"><span class="lineno">  114</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  115</span><span class="stringliteral">    Returns a networkx DiGraph object where nodes are module names</span></div>
<div class="line"><span class="lineno">  116</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>    deps = nx.DiGraph()</div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">for</span> module <span class="keywordflow">in</span> app.modulegraph.modules:</div>
<div class="line"><span class="lineno">  120</span>        deps.add_node(module.name)</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">for</span> endpoint <span class="keywordflow">in</span> app.modulegraph.endpoints:</div>
<div class="line"><span class="lineno">  123</span>            <span class="keywordflow">if</span> endpoint.internal_name <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> endpoint.direction != Direction.IN:</div>
<div class="line"><span class="lineno">  124</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  125</span>            mod_name, q_name = endpoint.internal_name.split(<span class="stringliteral">&quot;.&quot;</span>)</div>
<div class="line"><span class="lineno">  126</span>            <span class="keywordflow">if</span> module.name != mod_name:</div>
<div class="line"><span class="lineno">  127</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>            <span class="keywordflow">for</span> other_endpoint <span class="keywordflow">in</span> app.modulegraph.endpoints:</div>
<div class="line"><span class="lineno">  130</span>                <span class="keywordflow">if</span> other_endpoint.internal_name <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  131</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  132</span>                <span class="keywordflow">if</span> other_endpoint.external_name == endpoint.external_name <span class="keywordflow">and</span> other_endpoint.internal_name != endpoint.internal_name <span class="keywordflow">and</span> other_endpoint.direction != Direction.IN:</div>
<div class="line"><span class="lineno">  133</span>                    other_mod, other_q = other_endpoint.internal_name.split(<span class="stringliteral">&quot;.&quot;</span>)</div>
<div class="line"><span class="lineno">  134</span>                    <span class="keywordflow">if</span> verbose: console.log(f<span class="stringliteral">&quot;Adding generated dependency edge {other_mod} -&gt; {mod_name}&quot;</span>)</div>
<div class="line"><span class="lineno">  135</span>                    deps.add_edge(other_mod, mod_name)</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">for</span> queue <span class="keywordflow">in</span> app.modulegraph.queues:</div>
<div class="line"><span class="lineno">  139</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> queue.toposort:</div>
<div class="line"><span class="lineno">  140</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  141</span>        <span class="keywordflow">for</span> push_addr <span class="keywordflow">in</span> queue.push_modules:</div>
<div class="line"><span class="lineno">  142</span>            <span class="keywordflow">for</span> pop_addr <span class="keywordflow">in</span> queue.pop_modules:</div>
<div class="line"><span class="lineno">  143</span>                push_mod, push_name = push_addr.split(<span class="stringliteral">&quot;.&quot;</span>, maxsplit=1)</div>
<div class="line"><span class="lineno">  144</span>                pop_mod, pop_name = pop_addr.split(<span class="stringliteral">&quot;.&quot;</span>, maxsplit=1)</div>
<div class="line"><span class="lineno">  145</span>                <span class="keywordflow">if</span> verbose: console.log(f<span class="stringliteral">&quot;Adding queue dependency edge {push_mod} -&gt; {pop_mod}&quot;</span>)</div>
<div class="line"><span class="lineno">  146</span>                deps.add_edge(push_mod, pop_mod)</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">return</span> deps</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9262a38ed6d95f04118f31f911558b2a" name="a9262a38ed6d95f04118f31f911558b2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9262a38ed6d95f04118f31f911558b2a">&#9670;&#160;</a></span>make_network_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.make_network_connection </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>the_system</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>endpoint_name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>data_type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>in_apps</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>out_apps</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>use_k8s</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>use_connectivity_service</em><span class="paramdefsep"> = </span><span class="paramdefval">True</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00195">195</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  195</span><span class="keyword">def </span>make_network_connection(the_system, endpoint_name, data_type, in_apps, out_apps, verbose, use_k8s=False, use_connectivity_service=True):</div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  197</span>        console.log(f<span class="stringliteral">&quot;Connection {endpoint_name}, Network&quot;</span>)</div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">if</span> len(in_apps) &gt; 1:</div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Connection with name {endpoint_name} has multiple receivers, which is unsupported for a network connection!&quot;</span>)</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>    port = the_system.next_unassigned_port() <span class="keywordflow">if</span> <span class="keywordflow">not</span> use_connectivity_service <span class="keywordflow">or</span> use_k8s <span class="keywordflow">else</span> <span class="stringliteral">&#39;*&#39;</span></div>
<div class="line"><span class="lineno">  202</span>    address_sender = f<span class="stringliteral">&#39;tcp://{{{in_apps[0]}}}:{port}&#39;</span> <span class="keywordflow">if</span> <span class="keywordflow">not</span> use_k8s <span class="keywordflow">else</span> f<span class="stringliteral">&#39;tcp://{in_apps[0]}:{port}&#39;</span></div>
<div class="line"><span class="lineno">  203</span>    conn_id = conn.ConnectionId(uid=endpoint_name, data_type=data_type)</div>
<div class="line"><span class="lineno">  204</span>    the_system.connections[in_apps[0]] += [conn.Connection(id=conn_id, connection_type=<span class="stringliteral">&quot;kSendRecv&quot;</span>, uri=address_sender)]</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> use_connectivity_service:</div>
<div class="line"><span class="lineno">  206</span>        <span class="keywordflow">for</span> app <span class="keywordflow">in</span> set(out_apps):</div>
<div class="line"><span class="lineno">  207</span>            the_system.connections[app] += [conn.Connection(id=conn_id, connection_type=<span class="stringliteral">&quot;kSendRecv&quot;</span>, uri=address_sender)]</div>
<div class="line"><span class="lineno">  208</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a142810aed7242806daa597052a271055" name="a142810aed7242806daa597052a271055"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a142810aed7242806daa597052a271055">&#9670;&#160;</a></span>make_queue_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.make_queue_connection </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>the_system</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>app</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>endpoint_name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>data_type</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>in_apps</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>out_apps</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00184">184</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  184</span><span class="keyword">def </span>make_queue_connection(the_system, app, endpoint_name, data_type, in_apps, out_apps, size, verbose):</div>
<div class="line"><span class="lineno">  185</span>    conn_id = conn.ConnectionId(uid=endpoint_name, data_type=data_type)</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">if</span> len(in_apps) == 1 <span class="keywordflow">and</span> len(out_apps) == 1:</div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  188</span>            console.log(f<span class="stringliteral">&quot;Queue {endpoint_name}, SPSC Queue (data_type={data_type}, size={size})&quot;</span>)</div>
<div class="line"><span class="lineno">  189</span>        the_system.queues[app] += [conn.QueueConfig(id=conn_id, queue_type=<span class="stringliteral">&quot;kFollySPSCQueue&quot;</span>, capacity=size)]</div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  191</span>        <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  192</span>            console.log(f<span class="stringliteral">&quot;Queue {endpoint_name}, MPMC Queue (data_type={data_type}, size={size})&quot;</span>)</div>
<div class="line"><span class="lineno">  193</span>        the_system.queues[app] += [conn.QueueConfig(id=conn_id, queue_type=<span class="stringliteral">&quot;kFollyMPMCQueue&quot;</span>, capacity=size)]</div>
<div class="line"><span class="lineno">  194</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aac3d0024ab29da2b2ea0e17b636f8dca" name="aac3d0024ab29da2b2ea0e17b636f8dca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac3d0024ab29da2b2ea0e17b636f8dca">&#9670;&#160;</a></span>make_system_command_datas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict daqconf.core.conf_utils.make_system_command_datas </td>
          <td>(</td>
          <td class="paramtype">dict</td>          <td class="paramname"><span class="paramname"><em>boot_conf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>the_system</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>forced_deps</em><span class="paramdefsep"> = </span><span class="paramdefval">[]</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>verbose</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Callable[[str],str]</td>          <td class="paramname"><span class="paramname"><em>control_to_data_network</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generate the dictionary of commands and their data for the entire system</pre> 
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00815">815</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  815</span><span class="keyword">def </span>make_system_command_datas(boot_conf:dict, the_system, forced_deps=[], verbose:bool=<span class="keyword">False</span>, control_to_data_network:Callable[[str],str]=<span class="keywordtype">None</span>) -&gt; dict:</div>
<div class="line"><span class="lineno">  816</span>    <span class="stringliteral">&quot;&quot;&quot;Generate the dictionary of commands and their data for the entire system&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>    <span class="comment"># if the_system.app_start_order is None:</span></div>
<div class="line"><span class="lineno">  819</span>    <span class="comment">#     app_deps = make_app_deps(the_system, forced_deps, verbose)</span></div>
<div class="line"><span class="lineno">  820</span>    <span class="comment"># the_system.app_start_order = list(nx.algorithms.dag.topological_sort(app_deps))</span></div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>    system_command_datas=dict()</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> cmd_set:</div>
<div class="line"><span class="lineno">  825</span>        console.log(f<span class="stringliteral">&quot;Generating system {c} command&quot;</span>)</div>
<div class="line"><span class="lineno">  826</span>        cfg = {</div>
<div class="line"><span class="lineno">  827</span>            <span class="stringliteral">&quot;apps&quot;</span>: {app_name: f<span class="stringliteral">&#39;data/{app_name}_{c}&#39;</span> <span class="keywordflow">for</span> app_name <span class="keywordflow">in</span> the_system.apps.keys()}</div>
<div class="line"><span class="lineno">  828</span>        }</div>
<div class="line"><span class="lineno">  829</span>        system_command_datas[c]=cfg</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>        <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  832</span>            console.log(cfg)</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>    console.log(f<span class="stringliteral">&quot;Generating boot json file&quot;</span>)</div>
<div class="line"><span class="lineno">  835</span>    system_command_datas[<span class="stringliteral">&#39;boot&#39;</span>] = generate_boot(</div>
<div class="line"><span class="lineno">  836</span>        boot_conf = boot_conf,</div>
<div class="line"><span class="lineno">  837</span>        system = the_system,</div>
<div class="line"><span class="lineno">  838</span>        verbose = verbose,</div>
<div class="line"><span class="lineno">  839</span>        control_to_data_network=control_to_data_network</div>
<div class="line"><span class="lineno">  840</span>    )</div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span>    <span class="keywordflow">if</span> boot_conf.run_control == <span class="stringliteral">&#39;drunc&#39;</span>:</div>
<div class="line"><span class="lineno">  843</span>        <span class="keyword">from</span> <a class="code hl_namespace" href="namespacedaqconf_1_1core_1_1drunc__conf__utils.html">daqconf.core.drunc_conf_utils</a> <span class="keyword">import</span> get_controller_conf</div>
<div class="line"><span class="lineno">  844</span>        apps = [</div>
<div class="line"><span class="lineno">  845</span>            {</div>
<div class="line"><span class="lineno">  846</span>                <span class="stringliteral">&#39;name&#39;</span>: a,</div>
<div class="line"><span class="lineno">  847</span>                <span class="stringliteral">&#39;port&#39;</span>: system_command_datas[<span class="stringliteral">&#39;boot&#39;</span>][<span class="stringliteral">&#39;apps&#39;</span>][a][<span class="stringliteral">&#39;port&#39;</span>],</div>
<div class="line"><span class="lineno">  848</span>                <span class="stringliteral">&#39;host&#39;</span>: system_command_datas[<span class="stringliteral">&#39;boot&#39;</span>][<span class="stringliteral">&#39;hosts-ctrl&#39;</span>][a],</div>
<div class="line"><span class="lineno">  849</span>            }</div>
<div class="line"><span class="lineno">  850</span>            <span class="keywordflow">for</span> a <span class="keywordflow">in</span> the_system.apps.keys()</div>
<div class="line"><span class="lineno">  851</span>        ]</div>
<div class="line"><span class="lineno">  852</span>        kafkas_uris = {</div>
<div class="line"><span class="lineno">  853</span>            <span class="stringliteral">&#39;cern&#39;</span>:   <span class="stringliteral">&quot;monkafka.cern.ch:30092&quot;</span>,</div>
<div class="line"><span class="lineno">  854</span>            <span class="stringliteral">&#39;pocket&#39;</span>: f<span class="stringliteral">&quot;{boot_conf.pocket_url}:30092&quot;</span>,</div>
<div class="line"><span class="lineno">  855</span>        }</div>
<div class="line"><span class="lineno">  856</span>        kafka_address = kafkas_uris[<span class="stringliteral">&#39;pocket&#39;</span>]</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>        <span class="keywordflow">if</span> boot_conf.ers_impl == <span class="stringliteral">&#39;cern&#39;</span> <span class="keywordflow">or</span> boot_conf.opmon_impl == <span class="stringliteral">&#39;cern&#39;</span>:</div>
<div class="line"><span class="lineno">  859</span>            kafka_address = kafkas_uris[<span class="stringliteral">&#39;cern&#39;</span>]</div>
<div class="line"><span class="lineno">  860</span> </div>
<div class="line"><span class="lineno">  861</span>        system_command_datas[<span class="stringliteral">&#39;controller&#39;</span>] = get_controller_conf(</div>
<div class="line"><span class="lineno">  862</span>            apps = apps,</div>
<div class="line"><span class="lineno">  863</span>            kafka_address = kafka_address,</div>
<div class="line"><span class="lineno">  864</span>        )</div>
<div class="line"><span class="lineno">  865</span> </div>
<div class="line"><span class="lineno">  866</span>    <span class="keywordflow">return</span> system_command_datas</div>
<div class="line"><span class="lineno">  867</span> </div>
<div class="ttc" id="anamespacedaqconf_1_1core_1_1drunc__conf__utils_html"><div class="ttname"><a href="namespacedaqconf_1_1core_1_1drunc__conf__utils.html">daqconf.core.drunc_conf_utils</a></div><div class="ttdef"><b>Definition</b> <a href="drunc__conf__utils_8py_source.html#l00001">drunc_conf_utils.py:1</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad82272e4714cacf184338ac0977f7458" name="ad82272e4714cacf184338ac0977f7458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad82272e4714cacf184338ac0977f7458">&#9670;&#160;</a></span>make_system_connections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.make_system_connections </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>the_system</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>use_k8s</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>use_connectivity_service</em><span class="paramdefsep"> = </span><span class="paramdefval">True</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Given a system with defined apps and endpoints, create the
set of connections that satisfy the endpoints.

If an endpoint's ID only exists for one application, a queue will
be used.

If an endpoint's ID exists for multiple applications, a network connection
will be created, unless the inputs and outputs are exactly paired between
those applications. (Each application in the set of applications that has
that endpoint has exactly one input and one output with that endpoint name)

If a queue connection has a single producer and single consumer, it will use FollySPSC,
otherwise FollyMPMC will be used.</pre> 
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00209">209</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  209</span><span class="keyword">def </span>make_system_connections(the_system, verbose=False, use_k8s=False, use_connectivity_service=True):</div>
<div class="line"><span class="lineno">  210</span>    <span class="stringliteral">&quot;&quot;&quot;Given a system with defined apps and endpoints, create the</span></div>
<div class="line"><span class="lineno">  211</span><span class="stringliteral">    set of connections that satisfy the endpoints.</span></div>
<div class="line"><span class="lineno">  212</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral">    If an endpoint&#39;s ID only exists for one application, a queue will</span></div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral">    be used.</span></div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  216</span><span class="stringliteral">    If an endpoint&#39;s ID exists for multiple applications, a network connection</span></div>
<div class="line"><span class="lineno">  217</span><span class="stringliteral">    will be created, unless the inputs and outputs are exactly paired between</span></div>
<div class="line"><span class="lineno">  218</span><span class="stringliteral">    those applications. (Each application in the set of applications that has</span></div>
<div class="line"><span class="lineno">  219</span><span class="stringliteral">    that endpoint has exactly one input and one output with that endpoint name)</span></div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral">    If a queue connection has a single producer and single consumer, it will use FollySPSC,</span></div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral">    otherwise FollyMPMC will be used.</span></div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  225</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>    uids = []</div>
<div class="line"><span class="lineno">  228</span>    endpoint_map = defaultdict(list)</div>
<div class="line"><span class="lineno">  229</span>    topic_map = defaultdict(list)</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">for</span> app <span class="keywordflow">in</span> the_system.apps:</div>
<div class="line"><span class="lineno">  232</span>      the_system.connections[app] = []</div>
<div class="line"><span class="lineno">  233</span>      the_system.queues[app] = []</div>
<div class="line"><span class="lineno">  234</span>      <span class="keywordflow">for</span> queue <span class="keywordflow">in</span> the_system.apps[app].modulegraph.queues:</div>
<div class="line"><span class="lineno">  235</span>            make_queue_connection(the_system, app, queue.name, queue.data_type, queue.push_modules, queue.pop_modules, queue.size, verbose)</div>
<div class="line"><span class="lineno">  236</span>      <span class="keywordflow">for</span> endpoint <span class="keywordflow">in</span> the_system.apps[app].modulegraph.endpoints:</div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> endpoint.is_pubsub:</div>
<div class="line"><span class="lineno">  238</span>            <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  239</span>                console.log(f<span class="stringliteral">&quot;Adding endpoint {endpoint.external_name}, app {app}, direction {endpoint.direction}&quot;</span>)</div>
<div class="line"><span class="lineno">  240</span>            endpoint_map[endpoint.external_name] += [{<span class="stringliteral">&quot;app&quot;</span>: app, <span class="stringliteral">&quot;endpoint&quot;</span>: endpoint}]</div>
<div class="line"><span class="lineno">  241</span>            uids.append(endpoint.external_name)</div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  243</span>            <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  244</span>                console.log(f<span class="stringliteral">&quot;Getting topics for endpoint {endpoint.external_name}, app {app}, direction {endpoint.direction}&quot;</span>)</div>
<div class="line"><span class="lineno">  245</span>            topic_map[endpoint.data_type] += [{<span class="stringliteral">&quot;app&quot;</span>: app, <span class="stringliteral">&quot;endpoint&quot;</span>: endpoint}]</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">for</span> topic <span class="keywordflow">in</span> topic_map.keys():</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">if</span> topic <span class="keywordflow">in</span> uids:</div>
<div class="line"><span class="lineno">  249</span>            <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Name {topic} is both an endpoint external name and a data_type&quot;</span>)</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">for</span> endpoint_name,endpoints <span class="keywordflow">in</span> endpoint_map.items():</div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  253</span>            console.log(f<span class="stringliteral">&quot;Processing {endpoint_name} with defined endpoints {endpoints}&quot;</span>)</div>
<div class="line"><span class="lineno">  254</span>        first_app = endpoints[0][<span class="stringliteral">&quot;app&quot;</span>]</div>
<div class="line"><span class="lineno">  255</span>        check_endpoints = endpoints[0][<span class="stringliteral">&quot;endpoint&quot;</span>].check_endpoints</div>
<div class="line"><span class="lineno">  256</span>        in_apps = []</div>
<div class="line"><span class="lineno">  257</span>        out_apps = []</div>
<div class="line"><span class="lineno">  258</span>        size = 0</div>
<div class="line"><span class="lineno">  259</span>        data_type = endpoints[0][<span class="stringliteral">&quot;endpoint&quot;</span>].data_type</div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">for</span> endpoint <span class="keywordflow">in</span> endpoints:</div>
<div class="line"><span class="lineno">  261</span>            direction = endpoint[<span class="stringliteral">&#39;endpoint&#39;</span>].direction</div>
<div class="line"><span class="lineno">  262</span>            <span class="keywordflow">if</span> direction == Direction.IN:</div>
<div class="line"><span class="lineno">  263</span>                in_apps += [endpoint[<span class="stringliteral">&quot;app&quot;</span>]]</div>
<div class="line"><span class="lineno">  264</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  265</span>                out_apps += [endpoint[<span class="stringliteral">&quot;app&quot;</span>]]</div>
<div class="line"><span class="lineno">  266</span>            <span class="keywordflow">if</span> endpoint[<span class="stringliteral">&#39;endpoint&#39;</span>].size_hint &gt; size:</div>
<div class="line"><span class="lineno">  267</span>                size = endpoint[<span class="stringliteral">&#39;endpoint&#39;</span>].size_hint</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>        <span class="keywordflow">if</span> len(in_apps) == 0 <span class="keywordflow">and</span> check_endpoints:</div>
<div class="line"><span class="lineno">  270</span>            <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Connection with name {endpoint_name} has no consumers!&quot;</span>)</div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordflow">if</span> len(out_apps) == 0 <span class="keywordflow">and</span> check_endpoints:</div>
<div class="line"><span class="lineno">  272</span>            <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Connection with name {endpoint_name} has no producers!&quot;</span>)</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> check_endpoints:</div>
<div class="line"><span class="lineno">  275</span>            <span class="keywordflow">if</span> len(in_apps) &gt; 0:</div>
<div class="line"><span class="lineno">  276</span>                make_network_connection(the_system, endpoint_name, data_type, in_apps, out_apps, verbose, use_k8s=use_k8s, use_connectivity_service=use_connectivity_service)</div>
<div class="line"><span class="lineno">  277</span>        <span class="keywordflow">elif</span> all(first_app == elem[<span class="stringliteral">&quot;app&quot;</span>] <span class="keywordflow">for</span> elem <span class="keywordflow">in</span> endpoints):</div>
<div class="line"><span class="lineno">  278</span>            make_queue_connection(the_system, first_app, endpoint_name, data_type, in_apps, out_apps, size, verbose)</div>
<div class="line"><span class="lineno">  279</span>        <span class="keywordflow">elif</span> len(in_apps) == len(out_apps):</div>
<div class="line"><span class="lineno">  280</span>            paired_exactly = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  281</span>            <span class="keywordflow">if</span> len(set(in_apps)) == len(in_apps) <span class="keywordflow">and</span> len(set(out_apps)) == len(out_apps):</div>
<div class="line"><span class="lineno">  282</span>                paired_exactly = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  283</span>                <span class="keywordflow">for</span> in_app <span class="keywordflow">in</span> in_apps:</div>
<div class="line"><span class="lineno">  284</span>                    if(out_apps.count(in_app) != 1):</div>
<div class="line"><span class="lineno">  285</span>                        paired_exactly = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  286</span>                        <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>                <span class="keywordflow">if</span> paired_exactly:</div>
<div class="line"><span class="lineno">  289</span>                    <span class="keywordflow">for</span> in_app <span class="keywordflow">in</span> in_apps:</div>
<div class="line"><span class="lineno">  290</span>                        <span class="keywordflow">for</span> app_endpoint <span class="keywordflow">in</span> the_system.apps[in_app].modulegraph.endpoints:</div>
<div class="line"><span class="lineno">  291</span>                            <span class="keywordflow">if</span> app_endpoint.external_name == endpoint_name:</div>
<div class="line"><span class="lineno">  292</span>                                app_endpoint.external_name = f<span class="stringliteral">&quot;{in_app}.{endpoint_name}&quot;</span></div>
<div class="line"><span class="lineno">  293</span>                        make_queue_connection(the_system,in_app, f<span class="stringliteral">&quot;{in_app}.{endpoint_name}&quot;</span>, data_type, [in_app], [in_app], size, verbose)</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>            <span class="keywordflow">if</span> paired_exactly == <span class="keyword">False</span>:</div>
<div class="line"><span class="lineno">  296</span>                make_network_connection(the_system, endpoint_name, data_type, in_apps, out_apps, verbose, use_k8s=use_k8s, use_connectivity_service=use_connectivity_service)</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  299</span>            make_network_connection(the_system, endpoint_name, data_type, in_apps, out_apps, verbose, use_k8s=use_k8s, use_connectivity_service=use_connectivity_service)</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    pubsub_connectionids = {}</div>
<div class="line"><span class="lineno">  302</span>    <span class="keywordflow">for</span> topic, endpoints <span class="keywordflow">in</span> topic_map.items():</div>
<div class="line"><span class="lineno">  303</span>        <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  304</span>            console.log(f<span class="stringliteral">&quot;Processing {topic} with defined endpoints {endpoints}&quot;</span>)</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>        publishers = []</div>
<div class="line"><span class="lineno">  307</span>        subscribers = [] <span class="comment"># Only really care about the topics from here</span></div>
<div class="line"><span class="lineno">  308</span>        publisher_uids = {}</div>
<div class="line"><span class="lineno">  309</span>        topic_connectionuids = []</div>
<div class="line"><span class="lineno">  310</span>        check_endpoints = endpoints[0][<span class="stringliteral">&quot;endpoint&quot;</span>].check_endpoints</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordflow">for</span> endpoint <span class="keywordflow">in</span> endpoints:</div>
<div class="line"><span class="lineno">  313</span>            direction = endpoint[<span class="stringliteral">&#39;endpoint&#39;</span>].direction</div>
<div class="line"><span class="lineno">  314</span>            <span class="keywordflow">if</span> direction == Direction.IN:</div>
<div class="line"><span class="lineno">  315</span>                subscribers += [endpoint[<span class="stringliteral">&quot;app&quot;</span>]]</div>
<div class="line"><span class="lineno">  316</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  317</span>                publishers += [endpoint[<span class="stringliteral">&quot;app&quot;</span>]]</div>
<div class="line"><span class="lineno">  318</span>                <span class="keywordflow">if</span> endpoint[<span class="stringliteral">&#39;endpoint&#39;</span>].external_name <span class="keywordflow">not</span> <span class="keywordflow">in</span> pubsub_connectionids:</div>
<div class="line"><span class="lineno">  319</span>                    port = the_system.next_unassigned_port() <span class="keywordflow">if</span> <span class="keywordflow">not</span> use_connectivity_service <span class="keywordflow">or</span> use_k8s <span class="keywordflow">else</span> <span class="stringliteral">&#39;*&#39;</span></div>
<div class="line"><span class="lineno">  320</span>                    address = f<span class="stringliteral">&#39;tcp://{{{endpoint[&quot;app&quot;]}}}:{port}&#39;</span> <span class="keywordflow">if</span> <span class="keywordflow">not</span> use_k8s <span class="keywordflow">else</span> f<span class="stringliteral">&#39;tcp://{endpoint[&quot;app&quot;]}:{port}&#39;</span></div>
<div class="line"><span class="lineno">  321</span>                    conn_id =conn.ConnectionId( uid=endpoint[<span class="stringliteral">&#39;endpoint&#39;</span>].external_name, data_type=endpoint[<span class="stringliteral">&#39;endpoint&#39;</span>].data_type)</div>
<div class="line"><span class="lineno">  322</span>                    pubsub_connectionids[endpoint[<span class="stringliteral">&#39;endpoint&#39;</span>].external_name] = conn.Connection(id=conn_id,</div>
<div class="line"><span class="lineno">  323</span>                        connection_type=<span class="stringliteral">&quot;kPubSub&quot;</span>,</div>
<div class="line"><span class="lineno">  324</span>                        uri=address</div>
<div class="line"><span class="lineno">  325</span>                    )</div>
<div class="line"><span class="lineno">  326</span>                topic_connectionuids += [endpoint[<span class="stringliteral">&#39;endpoint&#39;</span>].external_name]</div>
<div class="line"><span class="lineno">  327</span>                <span class="keywordflow">if</span> endpoint[<span class="stringliteral">&#39;app&#39;</span>] <span class="keywordflow">not</span> <span class="keywordflow">in</span> publisher_uids.keys(): publisher_uids[endpoint[<span class="stringliteral">&quot;app&quot;</span>]] = []</div>
<div class="line"><span class="lineno">  328</span>                publisher_uids[endpoint[<span class="stringliteral">&quot;app&quot;</span>]] += [endpoint[<span class="stringliteral">&#39;endpoint&#39;</span>].external_name]</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>        </div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">if</span> len(publishers) == 0 <span class="keywordflow">and</span> check_endpoints:</div>
<div class="line"><span class="lineno">  332</span>            <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Data Type {topic} has no publishers!&quot;</span>)</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>        <span class="keywordflow">for</span> publisher <span class="keywordflow">in</span> publishers:</div>
<div class="line"><span class="lineno">  335</span>            publisher_connections = [c.id[<span class="stringliteral">&#39;uid&#39;</span>] <span class="keywordflow">for</span> c <span class="keywordflow">in</span> the_system.connections[publisher]]</div>
<div class="line"><span class="lineno">  336</span>            <span class="keywordflow">for</span> connid <span class="keywordflow">in</span> publisher_uids[publisher]:</div>
<div class="line"><span class="lineno">  337</span>                <span class="keywordflow">if</span> connid <span class="keywordflow">not</span> <span class="keywordflow">in</span> publisher_connections:</div>
<div class="line"><span class="lineno">  338</span>                    conn_copy = cp.deepcopy(pubsub_connectionids[connid])</div>
<div class="line"><span class="lineno">  339</span>                    conn_copy.uri = conn_copy.uri</div>
<div class="line"><span class="lineno">  340</span>                    the_system.connections[publisher] += [conn_copy]</div>
<div class="line"><span class="lineno">  341</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> use_connectivity_service:</div>
<div class="line"><span class="lineno">  342</span>            <span class="keywordflow">for</span> subscriber <span class="keywordflow">in</span> subscribers:</div>
<div class="line"><span class="lineno">  343</span>                subscriber_connections = [c.id[<span class="stringliteral">&#39;uid&#39;</span>] <span class="keywordflow">for</span> c <span class="keywordflow">in</span> the_system.connections[subscriber]]</div>
<div class="line"><span class="lineno">  344</span>                <span class="keywordflow">for</span> connid <span class="keywordflow">in</span> topic_connectionuids:</div>
<div class="line"><span class="lineno">  345</span>                    <span class="keywordflow">if</span> connid <span class="keywordflow">not</span> <span class="keywordflow">in</span> subscriber_connections:</div>
<div class="line"><span class="lineno">  346</span>                        conn_copy = cp.deepcopy(pubsub_connectionids[connid])</div>
<div class="line"><span class="lineno">  347</span>                        the_system.connections[subscriber] += [conn_copy]</div>
<div class="line"><span class="lineno">  348</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acfa0c05f5d621c1013a0322a6fe2b34b" name="acfa0c05f5d621c1013a0322a6fe2b34b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfa0c05f5d621c1013a0322a6fe2b34b">&#9670;&#160;</a></span>make_unique_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.make_unique_name </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>base</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>module_list</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00453">453</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  453</span><span class="keyword">def </span>make_unique_name(base, module_list):</div>
<div class="line"><span class="lineno">  454</span>    module_names = [ mod.name <span class="keywordflow">for</span> mod <span class="keywordflow">in</span> module_list ]</div>
<div class="line"><span class="lineno">  455</span>    suffix=0</div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordflow">while</span> f<span class="stringliteral">&quot;{base}_{suffix}&quot;</span> <span class="keywordflow">in</span> module_names:</div>
<div class="line"><span class="lineno">  457</span>        suffix+=1</div>
<div class="line"><span class="lineno">  458</span>    <span class="keyword">assert</span> f<span class="stringliteral">&quot;{base}_{suffix}&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> module_names</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordflow">return</span> f<span class="stringliteral">&quot;{base}_{suffix}&quot;</span></div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abd4e9ca24267ddb4d7a1c8a94e5514ae" name="abd4e9ca24267ddb4d7a1c8a94e5514ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd4e9ca24267ddb4d7a1c8a94e5514ae">&#9670;&#160;</a></span>release_or_dev()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.release_or_dev </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00909">909</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  909</span><span class="keyword">def </span>release_or_dev():</div>
<div class="line"><span class="lineno">  910</span>    <span class="keyword">from</span> os <span class="keyword">import</span> getenv</div>
<div class="line"><span class="lineno">  911</span>    is_release = getenv(<span class="stringliteral">&quot;DBT_SETUP_RELEASE_SCRIPT_SOURCED&quot;</span>)</div>
<div class="line"><span class="lineno">  912</span>    <span class="keywordflow">if</span> is_release:</div>
<div class="line"><span class="lineno">  913</span>        console.log(<span class="stringliteral">&#39;Using a release&#39;</span>)</div>
<div class="line"><span class="lineno">  914</span>        <span class="keywordflow">return</span> <span class="stringliteral">&#39;rel&#39;</span></div>
<div class="line"><span class="lineno">  915</span>    is_devenv = getenv(<span class="stringliteral">&quot;DBT_WORKAREA_ENV_SCRIPT_SOURCED&quot;</span>)</div>
<div class="line"><span class="lineno">  916</span>    <span class="keywordflow">if</span> is_devenv:</div>
<div class="line"><span class="lineno">  917</span>        console.log(<span class="stringliteral">&#39;Using a development area&#39;</span>)</div>
<div class="line"><span class="lineno">  918</span>        <span class="keywordflow">return</span> <span class="stringliteral">&#39;dev&#39;</span></div>
<div class="line"><span class="lineno">  919</span>    <span class="keywordflow">return</span> <span class="stringliteral">&#39;rel&#39;</span></div>
<div class="line"><span class="lineno">  920</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7fd7bb65298d3340d2bc4a7ddd389c5f" name="a7fd7bb65298d3340d2bc4a7ddd389c5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fd7bb65298d3340d2bc4a7ddd389c5f">&#9670;&#160;</a></span>replace_localhost_ip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.replace_localhost_ip </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>uri</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Functions. </p>

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00104">104</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  104</span><span class="keyword">def </span>replace_localhost_ip(uri):</div>
<div class="line"><span class="lineno">  105</span>    parsed = urllib.parse.urlparse(uri)</div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">return</span> f<span class="stringliteral">&#39;{parsed.scheme}://0.0.0.0:{parsed.port}&#39;</span></div>
<div class="line"><span class="lineno">  107</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a196fd28392aecf9ef281f2d715fa9245" name="a196fd28392aecf9ef281f2d715fa9245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a196fd28392aecf9ef281f2d715fa9245">&#9670;&#160;</a></span>resolve_endpoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.resolve_endpoint </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>app</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>external_name</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>inout</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Resolve an `external` endpoint name to the corresponding internal "module.sinksource"
</pre> 
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00438">438</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  438</span><span class="keyword">def </span>resolve_endpoint(app, external_name, inout, verbose=False):</div>
<div class="line"><span class="lineno">  439</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral">    Resolve an `external` endpoint name to the corresponding internal &quot;module.sinksource&quot;</span></div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">if</span> external_name <span class="keywordflow">in</span> app.modulegraph.endpoints:</div>
<div class="line"><span class="lineno">  443</span>        e=app.modulegraph.endpoints[external_name]</div>
<div class="line"><span class="lineno">  444</span>        <span class="keywordflow">if</span> e.direction==inout:</div>
<div class="line"><span class="lineno">  445</span>            <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  446</span>                console.log(f<span class="stringliteral">&quot;Endpoint {external_name} resolves to {e.internal_name}&quot;</span>)</div>
<div class="line"><span class="lineno">  447</span>            <span class="keywordflow">return</span> e.internal_name</div>
<div class="line"><span class="lineno">  448</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  449</span>            <span class="keywordflow">raise</span> KeyError(f<span class="stringliteral">&quot;Endpoint {external_name} has direction {e.direction}, but requested direction was {inout}&quot;</span>)</div>
<div class="line"><span class="lineno">  450</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  451</span>        <span class="keywordflow">raise</span> KeyError(f<span class="stringliteral">&quot;Endpoint {external_name} not found&quot;</span>)</div>
<div class="line"><span class="lineno">  452</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3651bafb096f49a735528b7ee8785915" name="a3651bafb096f49a735528b7ee8785915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3651bafb096f49a735528b7ee8785915">&#9670;&#160;</a></span>resolve_localhost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.resolve_localhost </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>host</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00558">558</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  558</span><span class="keyword">def </span>resolve_localhost(host):</div>
<div class="line"><span class="lineno">  559</span>    <span class="keywordflow">if</span> host == <span class="stringliteral">&#39;localhost&#39;</span> <span class="keywordflow">or</span> host[:4] == <span class="stringliteral">&#39;127.&#39;</span>:</div>
<div class="line"><span class="lineno">  560</span>        <span class="keyword">import</span> socket</div>
<div class="line"><span class="lineno">  561</span>        <span class="keywordflow">return</span> socket.gethostname()</div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordflow">return</span> host</div>
<div class="line"><span class="lineno">  563</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ada7c9ac47265a3bef9820232f176d86f" name="ada7c9ac47265a3bef9820232f176d86f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada7c9ac47265a3bef9820232f176d86f">&#9670;&#160;</a></span>set_loose_affinity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.set_loose_affinity </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>apps</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>run_with_me_if_u_can</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00791">791</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  791</span><span class="keyword">def </span>set_loose_affinity(apps, run_with_me_if_u_can):</div>
<div class="line"><span class="lineno">  792</span>    <span class="keywordflow">for</span> app <span class="keywordflow">in</span> apps:</div>
<div class="line"><span class="lineno">  793</span>        app.pod_affinity += [{</div>
<div class="line"><span class="lineno">  794</span>            <span class="stringliteral">&quot;app&quot;</span>: run_with_me_if_u_can,</div>
<div class="line"><span class="lineno">  795</span>            <span class="stringliteral">&quot;strict&quot;</span>: <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  796</span>        }]</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a50a00e395feabf586857357cb12d345f" name="a50a00e395feabf586857357cb12d345f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a00e395feabf586857357cb12d345f">&#9670;&#160;</a></span>set_loose_anti_affinity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.set_loose_anti_affinity </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>apps</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dont_run_with_me_if_u_can</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00784">784</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  784</span><span class="keyword">def </span>set_loose_anti_affinity(apps, dont_run_with_me_if_u_can):</div>
<div class="line"><span class="lineno">  785</span>    <span class="keywordflow">for</span> app <span class="keywordflow">in</span> apps:</div>
<div class="line"><span class="lineno">  786</span>        app.pod_anti_affinity += [{</div>
<div class="line"><span class="lineno">  787</span>            <span class="stringliteral">&quot;app&quot;</span>: dont_run_with_me_if_u_can,</div>
<div class="line"><span class="lineno">  788</span>            <span class="stringliteral">&quot;strict&quot;</span>: <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  789</span>        }]</div>
<div class="line"><span class="lineno">  790</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a57ca1440163bfe302ff916c9f279a748" name="a57ca1440163bfe302ff916c9f279a748"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57ca1440163bfe302ff916c9f279a748">&#9670;&#160;</a></span>set_strict_affinity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.set_strict_affinity </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>apps</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>run_with_me</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00777">777</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  777</span><span class="keyword">def </span>set_strict_affinity(apps, run_with_me):</div>
<div class="line"><span class="lineno">  778</span>    <span class="keywordflow">for</span> app <span class="keywordflow">in</span> apps:</div>
<div class="line"><span class="lineno">  779</span>        app.pod_affinity += [{</div>
<div class="line"><span class="lineno">  780</span>            <span class="stringliteral">&quot;app&quot;</span>:run_with_me,</div>
<div class="line"><span class="lineno">  781</span>            <span class="stringliteral">&quot;strict&quot;</span>: <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  782</span>        }]</div>
<div class="line"><span class="lineno">  783</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9c8b6448ccc83fa9d30980ae2b3ca22" name="ae9c8b6448ccc83fa9d30980ae2b3ca22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9c8b6448ccc83fa9d30980ae2b3ca22">&#9670;&#160;</a></span>set_strict_anti_affinity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.set_strict_anti_affinity </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>apps</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dont_run_with_me</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00770">770</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  770</span><span class="keyword">def </span>set_strict_anti_affinity(apps, dont_run_with_me):</div>
<div class="line"><span class="lineno">  771</span>    <span class="keywordflow">for</span> app <span class="keywordflow">in</span> apps:</div>
<div class="line"><span class="lineno">  772</span>        app.pod_anti_affinity += [{</div>
<div class="line"><span class="lineno">  773</span>            <span class="stringliteral">&quot;app&quot;</span>: dont_run_with_me,</div>
<div class="line"><span class="lineno">  774</span>            <span class="stringliteral">&quot;strict&quot;</span>: <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  775</span>        }]</div>
<div class="line"><span class="lineno">  776</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8bec6d86959eda6a106fb410a129ee48" name="a8bec6d86959eda6a106fb410a129ee48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bec6d86959eda6a106fb410a129ee48">&#9670;&#160;</a></span>update_with_ssh_boot_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.update_with_ssh_boot_data </td>
          <td>(</td>
          <td class="paramtype">dict</td>          <td class="paramname"><span class="paramname"><em>boot_data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>apps</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>base_command_port</em><span class="paramdefsep"> = </span><span class="paramdefval">3333</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>control_to_data_network</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>use_drunc</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>controller_host</em><span class="paramdefsep"> = </span><span class="paramdefval">'localhost'</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Update boot_data to create the final the boot.json file
</pre> 
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00472">472</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  480</span>        ):</div>
<div class="line"><span class="lineno">  481</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  482</span><span class="stringliteral">    Update boot_data to create the final the boot.json file</span></div>
<div class="line"><span class="lineno">  483</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>    apps_desc = {}</div>
<div class="line"><span class="lineno">  486</span>    hosts = {}</div>
<div class="line"><span class="lineno">  487</span>    current_port = base_command_port</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>    <span class="keywordflow">for</span> name, app <span class="keywordflow">in</span> apps.items():</div>
<div class="line"><span class="lineno">  490</span>        apps_desc[name] = {</div>
<div class="line"><span class="lineno">  491</span>            <span class="stringliteral">&quot;exec&quot;</span>: <span class="stringliteral">&quot;daq_application_ssh&quot;</span>,</div>
<div class="line"><span class="lineno">  492</span>            <span class="stringliteral">&quot;host&quot;</span>: name,</div>
<div class="line"><span class="lineno">  493</span>            <span class="stringliteral">&quot;port&quot;</span>: current_port,</div>
<div class="line"><span class="lineno">  494</span>        }</div>
<div class="line"><span class="lineno">  495</span>        current_port+=1</div>
<div class="line"><span class="lineno">  496</span>        hosts[name] = app.host</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordflow">if</span> use_drunc:</div>
<div class="line"><span class="lineno">  499</span>        controller_name = <span class="stringliteral">&#39;controller&#39;</span></div>
<div class="line"><span class="lineno">  500</span>        <span class="keywordflow">if</span> controller_name <span class="keywordflow">in</span> apps.keys():</div>
<div class="line"><span class="lineno">  501</span>            <span class="keywordflow">raise</span> RuntimeError(f<span class="stringliteral">&#39;drunc controller is already in the apps (key: &quot;{controller_name}&quot;)&#39;</span>)</div>
<div class="line"><span class="lineno">  502</span> </div>
<div class="line"><span class="lineno">  503</span>        apps_desc[controller_name] = {</div>
<div class="line"><span class="lineno">  504</span>            <span class="stringliteral">&quot;exec&quot;</span>: f<span class="stringliteral">&quot;drunc_controller_ssh&quot;</span>,</div>
<div class="line"><span class="lineno">  505</span>            <span class="stringliteral">&quot;host&quot;</span>: controller_name,</div>
<div class="line"><span class="lineno">  506</span>            <span class="stringliteral">&quot;port&quot;</span>: current_port,</div>
<div class="line"><span class="lineno">  507</span>        }</div>
<div class="line"><span class="lineno">  508</span>        current_port+=1</div>
<div class="line"><span class="lineno">  509</span>        hosts[controller_name] = resolve_localhost(controller_host)</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>    boot_data.update({</div>
<div class="line"><span class="lineno">  513</span>        <span class="stringliteral">&quot;apps&quot;</span>: apps_desc,</div>
<div class="line"><span class="lineno">  514</span>        <span class="stringliteral">&quot;hosts-ctrl&quot;</span>: hosts,</div>
<div class="line"><span class="lineno">  515</span>        <span class="stringliteral">&#39;hosts-data&#39;</span>: data_network_translation(hosts, control_to_data_network)</div>
<div class="line"><span class="lineno">  516</span>    })</div>
<div class="line"><span class="lineno">  517</span> </div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d012725aafbfa6d58d794bd2aa0ff69" name="a8d012725aafbfa6d58d794bd2aa0ff69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d012725aafbfa6d58d794bd2aa0ff69">&#9670;&#160;</a></span>write_json_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.write_json_files </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>app_command_datas</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>system_command_datas</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>json_dir</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>verbose</em><span class="paramdefsep"> = </span><span class="paramdefval">False</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Write the per-application and whole-system command data as json files in `json_dir`
</pre> 
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00868">868</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  868</span><span class="keyword">def </span>write_json_files(app_command_datas, system_command_datas, json_dir, verbose=False):</div>
<div class="line"><span class="lineno">  869</span>    <span class="stringliteral">&quot;&quot;&quot;Write the per-application and whole-system command data as json files in `json_dir`</span></div>
<div class="line"><span class="lineno">  870</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span>    <span class="comment"># Backwards compatibility</span></div>
<div class="line"><span class="lineno">  873</span>    <span class="keywordflow">if</span> isinstance(json_dir, str):</div>
<div class="line"><span class="lineno">  874</span>        json_dir = Path(json_dir)</div>
<div class="line"><span class="lineno">  875</span> </div>
<div class="line"><span class="lineno">  876</span>    console.rule(<span class="stringliteral">&quot;JSON file creation&quot;</span>)</div>
<div class="line"><span class="lineno">  877</span> </div>
<div class="line"><span class="lineno">  878</span>    data_dir = json_dir / <span class="stringliteral">&#39;data&#39;</span></div>
<div class="line"><span class="lineno">  879</span>    data_dir.mkdir(parents=<span class="keyword">True</span>, exist_ok=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>    <span class="comment"># Apps</span></div>
<div class="line"><span class="lineno">  882</span>    <span class="keywordflow">for</span> app_name, command_data <span class="keywordflow">in</span> app_command_datas.items():</div>
<div class="line"><span class="lineno">  883</span>        make_app_json(app_name, command_data, data_dir, verbose)</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>    <span class="comment"># System commands</span></div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">for</span> cmd, cfg <span class="keywordflow">in</span> system_command_datas.items():</div>
<div class="line"><span class="lineno">  887</span>        data_file = json_dir / f<span class="stringliteral">&#39;{cmd}.json&#39;</span></div>
<div class="line"><span class="lineno">  888</span>        <span class="keyword">with</span> open(data_file, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  889</span>            json.dump(cfg, f, indent=4, sort_keys=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  890</span>        console.log(f<span class="stringliteral">&quot;- {data_file} generated&quot;</span>)</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>    console.log(f<span class="stringliteral">&quot;System configuration generated in directory &#39;{json_dir}&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  893</span> </div>
<div class="line"><span class="lineno">  894</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a46963ac69138a747d0fefb945c779fdb" name="a46963ac69138a747d0fefb945c779fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46963ac69138a747d0fefb945c779fdb">&#9670;&#160;</a></span>cmd_set</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list daqconf.core.conf_utils.cmd_set = [&quot;init&quot;, &quot;conf&quot;]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00799">799</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>

</div>
</div>
<a id="a7cfdd5270dba1390974a6c8ba0f49744" name="a7cfdd5270dba1390974a6c8ba0f49744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cfdd5270dba1390974a6c8ba0f49744">&#9670;&#160;</a></span>default_load_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.default_load_path</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00004">4</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>

</div>
</div>
<a id="aafde5b4e3f495bf6a1dbd2d5b7bd21e0" name="aafde5b4e3f495bf6a1dbd2d5b7bd21e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafde5b4e3f495bf6a1dbd2d5b7bd21e0">&#9670;&#160;</a></span>FragmentProducer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.FragmentProducer = namedtuple('FragmentProducer', ['source_id', 'requests_in', 'fragments_out', 'queue_name', 'is_mlt_producer'])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00090">90</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>

</div>
</div>
<a id="a001da6e3e71130647c110cd4fa056cd1" name="a001da6e3e71130647c110cd4fa056cd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a001da6e3e71130647c110cd4fa056cd1">&#9670;&#160;</a></span>Publisher</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.Publisher</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  namedtuple(</div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;Publisher&quot;</span>, [<span class="stringliteral">&#39;msg_type&#39;</span>, <span class="stringliteral">&#39;msg_module_name&#39;</span>, <span class="stringliteral">&#39;subscribers&#39;</span>])</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00093">93</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>

</div>
</div>
<a id="a59e4995159d3c6078524aca8ea779d47" name="a59e4995159d3c6078524aca8ea779d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59e4995159d3c6078524aca8ea779d47">&#9670;&#160;</a></span>Sender</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">daqconf.core.conf_utils.Sender = namedtuple(&quot;Sender&quot;, ['msg_type', 'msg_module_name', 'receiver'])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conf__utils_8py_source.html#l00096">96</a> of file <a class="el" href="conf__utils_8py_source.html">conf_utils.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
